(()=>{"use strict";var e,t,n,r,o,a,s,i,d,c={199:(e,t,n)=>{function r(){if(document.getElementById("myExt-course-styles"))return;const e=document.createElement("style");e.id="myExt-course-styles",e.textContent='\n      .myExt-course-card {\n        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;\n        max-width: 420px;\n        padding: 14px 18px;\n        margin: 12px auto;\n        border-radius: 10px;\n        background: #ffffff;\n        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);\n        border: 1px solid rgba(0, 0, 0, 0.04);\n        display: flex;\n        flex-direction: column;\n        gap: 10px;\n        box-sizing: border-box;\n        position: relative;\n        overflow: hidden;\n      }\n  \n      .myExt-course-card::before {\n        content: "";\n        position: absolute;\n        inset: 0;\n        background: linear-gradient(135deg, #3b82f6, #22c55e);\n        opacity: 0.05;\n        pointer-events: none;\n      }\n  \n      .myExt-course-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        gap: 12px;\n        position: relative;\n        z-index: 1;\n      }\n  \n      .myExt-course-title {\n        font-weight: 600;\n        font-size: 14px;\n        color: #111827;\n      }\n  \n      .myExt-course-sub {\n        font-size: 15px;\n        font-weight: 600;\n        color: #1f2937;\n      }\n  \n      .myExt-course-slots {\n        font-size: 12px;\n        padding: 4px 8px;\n        border-radius: 999px;\n        background: #ecfdf5;\n        color: #166534;\n        font-weight: 500;\n        white-space: nowrap;\n      }\n  \n      .myExt-course-slots--low {\n        background: #fef3c7;\n        color: #92400e;\n      }\n  \n      .myExt-course-slots--none {\n        background: #fee2e2;\n        color: #b91c1c;\n      }\n  \n      .myExt-course-footer {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        gap: 8px;\n        position: relative;\n        z-index: 1;\n      }\n  \n      .myExt-course-button {\n        border: none;\n        border-radius: 999px;\n        padding: 6px 14px;\n        font-size: 13px;\n        font-weight: 500;\n        cursor: pointer;\n        background: linear-gradient(135deg, #3b82f6, #2563eb);\n        color: #ffffff;\n        display: inline-flex;\n        align-items: center;\n        gap: 6px;\n        box-shadow: 0 4px 10px rgba(37, 99, 235, 0.35);\n        transition: transform 0.08s ease, box-shadow 0.08s ease, filter 0.08s ease;\n      }\n  \n      .myExt-course-button:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 6px 16px rgba(37, 99, 235, 0.45);\n        filter: brightness(1.05);\n      }\n  \n      .myExt-course-button:active {\n        transform: translateY(0);\n        box-shadow: 0 3px 8px rgba(37, 99, 235, 0.3);\n        filter: brightness(0.97);\n      }\n  \n      .myExt-course-button-icon {\n        font-size: 14px;\n        line-height: 1;\n      }\n  \n      .myExt-course-not-available {\n        font-size: 12px;\n        padding: 4px 10px;\n        border-radius: 999px;\n        background: #f3f4f6;\n        color: #6b7280;\n        font-weight: 500;\n      }\n    ',e.textContent+="\n    .myExt-week-btn-wrapper {\n      max-width: 420px;\n      margin: 20px auto 14px;\n    }\n\n    .myExt-week-btn {\n      width: 100%;\n      padding: 10px 16px;\n      font-size: 14px;\n      font-weight: 500;\n      border-radius: 12px;\n      border: none;\n      cursor: pointer;\n      background: linear-gradient(135deg, #10b981, #059669);\n      color: white;\n      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.35);\n      transition: transform 0.08s ease, box-shadow 0.08s ease, filter 0.08s ease;\n    }\n\n    .myExt-week-btn:hover {\n      transform: translateY(-1px);\n      filter: brightness(1.04);\n      box-shadow: 0 6px 16px rgba(16, 185, 129, 0.45);\n    }\n\n    .myExt-week-btn:active {\n      transform: translateY(0);\n      filter: brightness(0.97);\n      box-shadow: 0 3px 8px rgba(16, 185, 129, 0.3);\n    }\n",document.head.appendChild(e)}n.d(t,{R:()=>r})},307:(e,t,n)=>{function r(){if(document.getElementById("myExt-banner"))return;const e=document.createElement("style");e.id="myExt-banner-style",e.textContent='\n      .myExt-banner {\n        width: 100%;\n        padding: 5px;\n        box-sizing: border-box;\n  \n        background: #ffffff;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.07);\n  \n        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;\n        font-size: 15px;\n        font-weight: 600;\n        color: #1f2937;\n  \n        display: flex;\n        align-items: center;\n        justify-content: center;\n  \n        position: relative;\n        overflow: hidden;\n      }\n  \n      .myExt-banner::before {\n        content: "";\n        position: absolute;\n        inset: 0;\n        background: linear-gradient(135deg, #3b82f6, #22c55e);\n        opacity: 0.05;\n        pointer-events: none;\n      }\n  \n      .myExt-banner-content {\n        position: relative;\n        z-index: 1;\n      }\n    ',document.head.appendChild(e);const t=document.createElement("div");t.id="myExt-banner",t.className="myExt-banner";const n=document.createElement("span");return n.className="myExt-banner-content",n.textContent="zhs-booking-extension",t.appendChild(n),document.body.prepend(t),t}n.d(t,{l:()=>r})},379:(e,t,n)=>{n.a(e,async(e,r)=>{try{let o;n.d(t,{Fk:()=>s,eY:()=>i,sG:()=>d,vP:()=>a});try{o=await n.e(583).then(n.t.bind(n,583,19))}catch(c){console.warn("Could import module 'fs'. This error can occur when using this module inside the browser or 'fs' is not installed. If you are working inside node try run 'npm install fs'")}function a(e){return Object.entries(e).map(([e,t])=>`${e}=${t}`).join("; ")}function s(e){const t=o.readFileSync(e,"utf8");return JSON.parse(t)}function i(e){const t=new Date;let n;if("number"==typeof e)n=e;else{if("string"!=typeof e)throw new Error("Day must be a number (0â€“6) or weekday name");if(n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(e.toLowerCase()),-1===n)throw new Error("Invalid day name")}const r=(n-t.getDay()+7)%7||7,o=new Date(t);return o.setDate(t.getDate()+r),`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`}function d(e,t){const n=new Date(e);return n.setDate(n.getDate()+7*t),`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}r()}catch(u){r(u)}},1)},823:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{XC:()=>s.X});var o=n(937),a=n(379),s=n(967),i=e([o,a,s]);[o,a,s]=i.then?(await i)():i,r()}catch(e){r(e)}})},836:(e,t,n)=>{n.a(e,async(e,t)=>{try{var r=n(823),o=n(199),a=n(307),s=e([r]);r=(s.then?(await s)():s)[0],console.log("ZHS Booking content script loaded"),console.log(document.cookie),(0,a.l)(),await new Promise(e=>setTimeout(e,1e3)),(0,o.R)();const i=r.XC.fromCookieString(document.cookie),d=Object.entries(i.courses).map(([e,t])=>({[t.parentId]:e})).reduce((e,t)=>({...e,...t}),{}),c=Object.keys(d).find(e=>window.location.href.includes(e));let u=0;if(c){const y=f(c);console.log("Kurse gefunden",y),b(()=>l(y)),await l(y)}async function l(e){const t=Math.max(Math.floor(document.getElementsByClassName("myExt-course-card").length/3),0);if(console.log(t),e)for(const n of e)await p(n,t);else console.warn(e,"not iterable")}async function p(e,t=0){const n=i.courses[e].nextCourseStart(t),r=await i.getCourseSlotDetails(e,t),o=r.data.booking_slots.length>0;m({course:e,nextCourse:n,res:r,slotAvailable:o,onClick:()=>{i.book(e,t)}})}function f(e){let t=[];for(const[n,r]of Object.entries(i.courses))r.parentId==e&&t.push(n);return t}function b(e){u++,document.getElementById("render-next-week-btn-id")?.remove();const t=document.createElement("div");t.className="myExt-week-btn-wrapper",t.id="render-next-week-btn-id";const n=document.createElement("button");n.className="myExt-week-btn",n.textContent="NÃ¤chste Woche laden",n.addEventListener("click",()=>{"function"==typeof e&&e()}),t.appendChild(n),_(t)}function m({course:e,nextCourse:t,res:n,slotAvailable:r,onClick:o}){const a=document.createElement("div");a.className="myExt-course-card";const s=document.createElement("div");s.className="myExt-course-header";const i=document.createElement("div"),d=document.createElement("div");d.className="myExt-course-title",d.textContent=e;const c=document.createElement("div");c.className="myExt-course-sub";const u=new Date(t);c.textContent=t?`${u.toLocaleDateString()} ${u.toLocaleTimeString()}`:"â€“",i.appendChild(d),i.appendChild(c);const l=document.createElement("div"),p=r?n.data.booking_slots[0].availability:0;l.className="myExt-course-slots",r&&0!==p?p<=3?(l.classList.add("myExt-course-slots--low"),l.textContent=`${p} Slots â€“ fast voll`):l.textContent=`${p} Slots verfÃ¼gbar`:(l.classList.add("myExt-course-slots--none"),l.textContent="Keine Slots verfÃ¼gbar"),s.appendChild(i),s.appendChild(l);const f=document.createElement("div");f.className="myExt-course-footer";const b=r?n.data.booking_slots[0]:null,m=b&&b.already_booked,y=b&&b.already_in_cart;if(r&&p>0&&!m&&!y){const t=document.createElement("button");t.className="myExt-course-button",t.innerHTML='<span class="myExt-course-button-icon">ðŸ›’</span><span>In Warenkorb legen</span>',t.addEventListener("click",()=>{console.log("In Warenkorb legen",e),r&&o&&o()}),f.appendChild(t)}else{const e=document.createElement("div");e.className="myExt-course-not-available",e.textContent=m?"Bereits gebucht":y?"Bereits im Warenkorb":"Nicht buchbar",f.appendChild(e)}a.appendChild(s),a.appendChild(f),_(a)}function _(e){const t=document.querySelector('[data-testid="product-offer-info"].flex.flex-col.gap-y-4')||document.querySelector('[data-testid="product-offer-info"]');t&&t.parentNode?t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e):document.body.prepend(e)}t()}catch(h){t(h)}},1)},937:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{D:()=>i});var o=n(379),a=e([o]),s=a.then?(await a)():a;o=s[0];const i={"Tischtennis - Freies Spiel Samstag":{queryString(e=0){return JSON.stringify({query:"\nmutation Add_slot_product_to_cart($input: AddSlotProductToCartInput!) {\n    add_slot_product_to_cart(\n        input: $input\n    ) {\n            id\n            reserved_until\n            seconds_until_reservation_ends\n            created_at\n        products {\n                    id\n                    name\n                    resource {\n                      __typename\n                    }\n        }\n    }\n}",variables:{input:{parent_id:this.id,slot_start:this.nextCourseStart(e),slot_end:this.nextCourseEnd(e)}}})},id:"75c9e2fe-bb62-4174-87e7-e5c69fe7c90c",nextCourseStart:(e=0)=>`${(0,o.sG)((0,o.eY)("saturday"),e)}T08:00:00Z`,nextCourseEnd:(e=0)=>`${(0,o.sG)((0,o.eY)("saturday"),e)}T10:00:00Z`,parentId:"90ab722f-2150-4891-b873-03bf408e4478"},"Badminton - Freies Spiel Donnerstag":{queryString(e=0){return JSON.stringify({query:"\nmutation Add_slot_product_to_cart($input: AddSlotProductToCartInput!) {\n    add_slot_product_to_cart(\n        input: $input\n    ) {\n            id\n            reserved_until\n            seconds_until_reservation_ends\n            created_at\n        products {\n                    id\n                    name\n                    resource {\n                      __typename\n                    }\n        }\n    }\n}",variables:{input:{parent_id:this.id,slot_start:this.nextCourseStart(e),slot_end:this.nextCourseEnd(e)}}})},id:"f266a02c-8dcc-44ac-baca-b63706fed5ca",nextCourseStart:(e=0)=>`${(0,o.sG)((0,o.eY)("thursday"),e)}T20:30:00Z`,nextCourseEnd:(e=0)=>`${(0,o.sG)((0,o.eY)("thursday"),e)}T22:00:00Z`,parentId:"37019bf0-24df-4b56-8c6d-2423ea83d30a"},"Badminton - Freies Spiel Freitag":{queryString(e=0){return JSON.stringify({query:"\nmutation Add_slot_product_to_cart($input: AddSlotProductToCartInput!) {\n    add_slot_product_to_cart(\n        input: $input\n    ) {\n            id\n            reserved_until\n            seconds_until_reservation_ends\n            created_at\n        products {\n                    id\n                    name\n                    resource {\n                      __typename\n                    }\n        }\n    }\n}",variables:{input:{parent_id:this.id,slot_start:this.nextCourseStart(e),slot_end:this.nextCourseEnd(e)}}})},id:"91a9d9ae-c7a6-4078-8ef0-aa70ce068868",nextCourseStart:(e=0)=>`${(0,o.sG)((0,o.eY)("friday"),e)}19:00:00Z`,nextCourseEnd:(e=0)=>`${(0,o.sG)((0,o.eY)("friday"),e)}T20:30:00Z`,parentId:"37019bf0-24df-4b56-8c6d-2423ea83d30a"},"Badminton - Freies Spiel Samstag":{queryString(e=0){return JSON.stringify({query:"\nmutation Add_slot_product_to_cart($input: AddSlotProductToCartInput!) {\n    add_slot_product_to_cart(\n        input: $input\n    ) {\n            id\n            reserved_until\n            seconds_until_reservation_ends\n            created_at\n        products {\n                    id\n                    name\n                    resource {\n                      __typename\n                    }\n        }\n    }\n}",variables:{input:{parent_id:this.id,slot_start:this.nextCourseStart(e),slot_end:this.nextCourseEnd(e)}}})},id:"5ace37c4-cfa9-4f21-b610-f054bbc61293",nextCourseStart:(e=0)=>`${(0,o.sG)((0,o.eY)("saturday"),e)}08:00:00Z`,nextCourseEnd:(e=0)=>`${(0,o.sG)((0,o.eY)("saturday"),e)}T09:30:00Z`,parentId:"37019bf0-24df-4b56-8c6d-2423ea83d30a"},"Basketball - Freies Spiel Mittwoch":{queryString(e=0){return JSON.stringify({query:"\nmutation Add_slot_product_to_cart($input: AddSlotProductToCartInput!) {\n    add_slot_product_to_cart(\n        input: $input\n    ) {\n            id\n            reserved_until\n            seconds_until_reservation_ends\n            created_at\n        products {\n                    id\n                    name\n                    resource {\n                      __typename\n                    }\n        }\n    }\n}",variables:{input:{parent_id:this.id,slot_start:this.nextCourseStart(e),slot_end:this.nextCourseEnd(e)}}})},id:"7cb1fbb1-9c07-48af-a525-c7cfd5f583ee",nextCourseStart:(e=0)=>`${(0,o.sG)((0,o.eY)("wednesday"),e)}T20:30:00Z`,nextCourseEnd:(e=0)=>`${(0,o.sG)((0,o.eY)("wednesday"),e)}T22:00:00Z`,parentId:"d7c77ebf-ff42-40ec-b2b9-4116924d4171"},"Basketball - Freies Spiel Donnerstag":{queryString(e=0){return JSON.stringify({query:"\nmutation Add_slot_product_to_cart($input: AddSlotProductToCartInput!) {\n    add_slot_product_to_cart(\n        input: $input\n    ) {\n            id\n            reserved_until\n            seconds_until_reservation_ends\n            created_at\n        products {\n                    id\n                    name\n                    resource {\n                      __typename\n                    }\n        }\n    }\n}",variables:{input:{parent_id:this.id,slot_start:this.nextCourseStart(e),slot_end:this.nextCourseEnd(e)}}})},id:"92f59382-d567-45b6-a99a-601c48fa443e",nextCourseStart:(e=0)=>`${(0,o.sG)((0,o.eY)("thursday"),e)}T20:30:00Z`,nextCourseEnd:(e=0)=>`${(0,o.sG)((0,o.eY)("thursday"),e)}T22:00:00Z`,parentId:"d7c77ebf-ff42-40ec-b2b9-4116924d4171"},"Volleyball - Freies Spiel Montag":{queryString(e=0){return JSON.stringify({query:"\nmutation Add_slot_product_to_cart($input: AddSlotProductToCartInput!) {\n    add_slot_product_to_cart(\n        input: $input\n    ) {\n            id\n            reserved_until\n            seconds_until_reservation_ends\n            created_at\n        products {\n                    id\n                    name\n                    resource {\n                      __typename\n                    }\n        }\n    }\n}",variables:{input:{parent_id:this.id,slot_start:this.nextCourseStart(e),slot_end:this.nextCourseEnd(e)}}})},id:"0da87294-7c02-44f2-adc3-10e2690cea06",nextCourseStart:(e=0)=>`${(0,o.sG)((0,o.eY)("monday"),e)}T20:30:00.000Z`,nextCourseEnd:(e=0)=>`${(0,o.sG)((0,o.eY)("monday"),e)}T22:00:00.000Z`,parentId:"77e4748d-2ae6-4659-944d-8bcac3c8dead"},"Volleyball - Freies Spiel Donnerstag":{queryString(e=0){return JSON.stringify({query:"\nmutation Add_slot_product_to_cart($input: AddSlotProductToCartInput!) {\n    add_slot_product_to_cart(\n        input: $input\n    ) {\n            id\n            reserved_until\n            seconds_until_reservation_ends\n            created_at\n        products {\n                    id\n                    name\n                    resource {\n                      __typename\n                    }\n        }\n    }\n}",variables:{input:{parent_id:this.id,slot_start:this.nextCourseStart(e),slot_end:this.nextCourseEnd(e)}}})},id:"be82c554-a495-4cdc-8b67-f073bfca05d0",nextCourseStart:(e=0)=>`${(0,o.sG)((0,o.eY)("thursday"),e)}T20:30:00.000Z`,nextCourseEnd:(e=0)=>`${(0,o.sG)((0,o.eY)("thursday"),e)}T22:00:00.000Z`,parentId:"77e4748d-2ae6-4659-944d-8bcac3c8dead"},"Volleyball - Freies Spiel Samstag":{queryString(e=0){return JSON.stringify({query:"\nmutation Add_slot_product_to_cart($input: AddSlotProductToCartInput!) {\n    add_slot_product_to_cart(\n        input: $input\n    ) {\n            id\n            reserved_until\n            seconds_until_reservation_ends\n            created_at\n        products {\n                    id\n                    name\n                    resource {\n                      __typename\n                    }\n        }\n    }\n}",variables:{input:{parent_id:this.id,slot_start:this.nextCourseStart(e),slot_end:this.nextCourseEnd(e)}}})},id:"ad950f10-7a18-4e8a-8e25-8bf9c10bd607",nextCourseStart:(e=0)=>`${(0,o.sG)((0,o.eY)("saturday"),e)}T09:30:00Z`,nextCourseEnd:(e=0)=>`${(0,o.sG)((0,o.eY)("saturday"),e)}T11:30:00Z`,parentId:"77e4748d-2ae6-4659-944d-8bcac3c8dead"},"Outdoor-Fitnessanlage - Freies Training":{queryString(){return JSON.stringify({query:"\nmutation Add_product_to_cart($productName: String!) {\n    add_product_to_cart(\n        input: { product_name: $productName }\n    ) {\n        id\n        reserved_until\n        seconds_until_reservation_ends\n        created_at\n        products {\n            id\n            name\n            resource {\n              __typename\n            }\n        }\n    }\n}",variables:{productName:this.id}})},id:"courses.course.02289820-8ce2-4981-9bb5-cffa4d8d29c6"},"Golf - Freies Spiel":{queryString(){return JSON.stringify({query:"\nmutation Add_product_to_cart($productName: String!) {\n    add_product_to_cart(\n        input: { product_name: $productName }\n    ) {\n        id\n        reserved_until\n        seconds_until_reservation_ends\n        created_at\n        products {\n            id\n            name\n            resource {\n              __typename\n            }\n        }\n    }\n}",variables:{productName:this.id}})},id:"courses.course.bf93253a-fba0-4a8e-b2e0-739e1f15187c"}};r()}catch(e){r(e)}})},967:(e,t,n)=>{n.a(e,async(e,r)=>{try{n.d(t,{X:()=>i});var o=n(937),a=n(379),s=e([o,a]);[o,a]=s.then?(await s)():s;class i{static fromCookieFile(e){const t=new i,n=(0,a.Fk)(e);return t.cookieObject=n,t.cookieString=(0,a.vP)(n.cookie),t}static fromCookieObject(e){const t=new i;return t.cookieObject=e,t.cookieString=(0,a.vP)(e.cookie),t}static fromCookieString(e){const t=new i;return t.cookieString=e,t}constructor(){this.cookieObject=null,this.cookieString="",this.courses=o.D,this.baseUrl="https://kurse.zhs-muenchen.de",this.apiEndpoint="/api/query",this.defaultHeaders={accept:"application/json, text/plain, */*","accept-language":"de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json",priority:"u=1, i","sec-ch-ua":'"Chromium";v="142", "Google Chrome";v="142", "Not_A Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-uninow-language":"de_DE"}}async book(e,t=0){const n=this.courses[e]||this.findCourseNameById(e),r={method:"POST",headers:{...this.defaultHeaders,cookie:this.cookieString,origin:this.baseUrl,"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36"},body:n.queryString(t)},o=await fetch(`${this.baseUrl}${this.apiEndpoint}`,r);if(console.log(o.status),!o.ok)return{status:"error",response:o,responseBody:null};const a=await o.json();return console.log(a),a.data?{status:"booked",response:o,responseBody:a}:{status:"not_booked",response:o,responseBody:a}}async getCourseSlotDetails(e,t){const n=this.courses[e]||this.findCourseNameById(e),[r]=n.nextCourseStart(t).split("T"),[o]=n.nextCourseEnd(t).split("T"),a={method:"POST",headers:{...this.defaultHeaders,cookie:this.cookieString,origin:this.baseUrl,"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36"},body:JSON.stringify({query:"\nquery List_product_slots($productID: UUID!, $input: BookingSlotsInput!) {\n  booking_slots(product_id: $productID, input: $input) {\n    start\n    end\n    booking_period_start\n    booking_period_end\n    availability\n    already_booked\n    already_in_cart\n    already_on_waiting_list\n }\n}",variables:{productID:n.id,input:{start:`${r}T00:00:00Z`,end:`${o}T23:59:59Z`}}})},s=await fetch(`${this.baseUrl}${this.apiEndpoint}`,a);return await s.json()}findCourseNameById(e){for(const[t,n]of Object.entries(this.courses))if(n.id==e)return t}}r()}catch(e){r(e)}})}},u={};function l(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return c[e](n,n.exports,l),n.exports}l.m=c,e="function"==typeof Symbol,t=e?Symbol("webpack queues"):"__webpack_queues__",n=e?Symbol("webpack exports"):"__webpack_exports__",r=e?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},l.a=(e,a,s)=>{var i;s&&((i=[]).d=-1);var d,c,u,l=new Set,p=e.exports,f=new Promise((e,t)=>{u=t,c=e});f[n]=p,f[t]=e=>(i&&e(i),l.forEach(e),f.catch(e=>{})),e.exports=f,a(e=>{var a;d=(e=>e.map(e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e.then){var a=[];a.d=0,e.then(e=>{s[n]=e,o(a)},e=>{s[r]=e,o(a)});var s={};return s[t]=e=>e(a),s}}var i={};return i[t]=e=>{},i[n]=e,i}))(e);var s=()=>d.map(e=>{if(e[r])throw e[r];return e[n]}),c=new Promise(e=>{(a=()=>e(s)).r=0;var n=e=>e!==i&&!l.has(e)&&(l.add(e),e&&!e.d&&(a.r++,e.push(a)));d.map(e=>e[t](n))});return a.r?c:s()},e=>(e?u(f[r]=e):c(p),o(i))),i&&i.d<0&&(i.d=0)},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);l.r(n);var r={};a=a||[null,s({}),s([]),s(s)];for(var o=2&t&&e;("object"==typeof o||"function"==typeof o)&&!~a.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach(t=>r[t]=()=>e[t]);return r.default=()=>e,l.d(n,r),n},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce((t,n)=>(l.f[n](e,t),t),[])),l.u=e=>e+".bundle.js",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},d="zhs-booking-extension:",l.l=(e,t,n,r)=>{if(i[e])i[e].push(t);else{var o,a;if(void 0!==n)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var u=s[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==d+n){o=u;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",l.nc&&o.setAttribute("nonce",l.nc),o.setAttribute("data-webpack",d+n),o.src=e),i[e]=[t];var p=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var r=i[e];if(delete i[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(n)),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),a&&document.head.appendChild(o)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={854:0};l.f.j=(t,n)=>{var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((n,o)=>r=e[t]=[n,o]);n.push(r[2]=o);var a=l.p+l.u(t),s=new Error;l.l(a,n=>{if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[a,s,i]=n,d=0;if(a.some(t=>0!==e[t])){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);i&&i(l)}for(t&&t(n);d<a.length;d++)o=a[d],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkzhs_booking_extension=self.webpackChunkzhs_booking_extension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),l(836)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FlSCxJQUFJcUQsRUFBdUIsQ0FBQ0MsRUFBNEI1SyxLQUN2RCxJQUdJb0UsRUFBVWtELEdBSFR1RCxFQUFVQyxFQUFhQyxHQUFXL0ssRUFHaEJ3SSxFQUFJLEVBQzNCLEdBQUdxQyxFQUFTRyxLQUFNdlEsR0FBZ0MsSUFBeEIwUCxFQUFnQjFQLElBQWEsQ0FDdEQsSUFBSTJKLEtBQVkwRyxFQUNaM0csRUFBb0I4QyxFQUFFNkQsRUFBYTFHLEtBQ3JDRCxFQUFvQk8sRUFBRU4sR0FBWTBHLEVBQVkxRyxJQUc3QzJHLEdBQXNCQSxFQUFRNUcsRUFDbEMsQ0FFQSxJQURHeUcsR0FBNEJBLEVBQTJCNUssR0FDckR3SSxFQUFJcUMsRUFBU3JMLE9BQVFnSixJQUN6QmxCLEVBQVV1RCxFQUFTckMsR0FDaEJyRSxFQUFvQjhDLEVBQUVrRCxFQUFpQjdDLElBQVk2QyxFQUFnQjdDLElBQ3JFNkMsRUFBZ0I3QyxHQUFTLEtBRTFCNkMsRUFBZ0I3QyxHQUFXLEdBS3pCMkQsRUFBcUJDLEtBQXdDLGtDQUFJQSxLQUF3QyxtQ0FBSyxHQUNsSEQsRUFBbUJuRyxRQUFRNkYsRUFBcUJuQixLQUFLLEtBQU0sSUFDM0R5QixFQUFtQjVLLEtBQU9zSyxFQUFxQm5CLEtBQUssS0FBTXlCLEVBQW1CNUssS0FBS21KLEtBQUt5QixHLEtDbEY3RDlHLEVBQW9CLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96aHMtYm9va2luZy1leHRlbnNpb24vd2VicGFjay9ydW50aW1lL2FzeW5jIG1vZHVsZSIsIndlYnBhY2s6Ly96aHMtYm9va2luZy1leHRlbnNpb24vd2VicGFjay9ydW50aW1lL2NyZWF0ZSBmYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vemhzLWJvb2tpbmctZXh0ZW5zaW9uL3dlYnBhY2svcnVudGltZS9sb2FkIHNjcmlwdCIsIndlYnBhY2s6Ly96aHMtYm9va2luZy1leHRlbnNpb24vLi9zcmMvc3R5bGVzLmpzIiwid2VicGFjazovL3pocy1ib29raW5nLWV4dGVuc2lvbi8uL3NyYy9iYW5uZXIuanMiLCJ3ZWJwYWNrOi8vemhzLWJvb2tpbmctZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL3pocy1jbGllbnQtanMvaGVscGVyLmpzIiwid2VicGFjazovL3pocy1ib29raW5nLWV4dGVuc2lvbi8uL3NyYy9jb250ZW50LmpzIiwid2VicGFjazovL3pocy1ib29raW5nLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy96aHMtY2xpZW50LWpzL2NvdXJzZXMuanMiLCJ3ZWJwYWNrOi8vemhzLWJvb2tpbmctZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL3pocy1jbGllbnQtanMvemhzQ2xpZW50LmpzIiwid2VicGFjazovL3pocy1ib29raW5nLWV4dGVuc2lvbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly96aHMtYm9va2luZy1leHRlbnNpb24vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3pocy1ib29raW5nLWV4dGVuc2lvbi93ZWJwYWNrL3J1bnRpbWUvZW5zdXJlIGNodW5rIiwid2VicGFjazovL3pocy1ib29raW5nLWV4dGVuc2lvbi93ZWJwYWNrL3J1bnRpbWUvZ2V0IGphdmFzY3JpcHQgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vemhzLWJvb2tpbmctZXh0ZW5zaW9uL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vemhzLWJvb2tpbmctZXh0ZW5zaW9uL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vemhzLWJvb2tpbmctZXh0ZW5zaW9uL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vemhzLWJvb2tpbmctZXh0ZW5zaW9uL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3pocy1ib29raW5nLWV4dGVuc2lvbi93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly96aHMtYm9va2luZy1leHRlbnNpb24vd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCI7XG52YXIgd2VicGFja1F1ZXVlcyA9IGhhc1N5bWJvbCA/IFN5bWJvbChcIndlYnBhY2sgcXVldWVzXCIpIDogXCJfX3dlYnBhY2tfcXVldWVzX19cIjtcbnZhciB3ZWJwYWNrRXhwb3J0cyA9IGhhc1N5bWJvbCA/IFN5bWJvbChcIndlYnBhY2sgZXhwb3J0c1wiKSA6IFwiX193ZWJwYWNrX2V4cG9ydHNfX1wiO1xudmFyIHdlYnBhY2tFcnJvciA9IGhhc1N5bWJvbCA/IFN5bWJvbChcIndlYnBhY2sgZXJyb3JcIikgOiBcIl9fd2VicGFja19lcnJvcl9fXCI7XG5cbnZhciByZXNvbHZlUXVldWUgPSAocXVldWUpID0+IHtcblx0aWYocXVldWUgJiYgcXVldWUuZCA8IDEpIHtcblx0XHRxdWV1ZS5kID0gMTtcblx0XHRxdWV1ZS5mb3JFYWNoKChmbikgPT4gKGZuLnItLSkpO1xuXHRcdHF1ZXVlLmZvckVhY2goKGZuKSA9PiAoZm4uci0tID8gZm4ucisrIDogZm4oKSkpO1xuXHR9XG59XG52YXIgd3JhcERlcHMgPSAoZGVwcykgPT4gKGRlcHMubWFwKChkZXApID0+IHtcblx0aWYoZGVwICE9PSBudWxsICYmIHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpIHtcblxuXHRcdGlmKGRlcFt3ZWJwYWNrUXVldWVzXSkgcmV0dXJuIGRlcDtcblx0XHRpZihkZXAudGhlbikge1xuXHRcdFx0dmFyIHF1ZXVlID0gW107XG5cdFx0XHRxdWV1ZS5kID0gMDtcblx0XHRcdGRlcC50aGVuKChyKSA9PiB7XG5cdFx0XHRcdG9ialt3ZWJwYWNrRXhwb3J0c10gPSByO1xuXHRcdFx0XHRyZXNvbHZlUXVldWUocXVldWUpO1xuXHRcdFx0fSwgKGUpID0+IHtcblx0XHRcdFx0b2JqW3dlYnBhY2tFcnJvcl0gPSBlO1xuXHRcdFx0XHRyZXNvbHZlUXVldWUocXVldWUpO1xuXHRcdFx0fSk7XG5cdFx0XHR2YXIgb2JqID0ge307XG5cblx0XHRcdG9ialt3ZWJwYWNrUXVldWVzXSA9IChmbikgPT4gKGZuKHF1ZXVlKSk7XG5cdFx0XHRyZXR1cm4gb2JqO1xuXHRcdH1cblx0fVxuXHR2YXIgcmV0ID0ge307XG5cdHJldFt3ZWJwYWNrUXVldWVzXSA9IHggPT4ge307XG5cdHJldFt3ZWJwYWNrRXhwb3J0c10gPSBkZXA7XG5cdHJldHVybiByZXQ7XG59KSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmEgPSAobW9kdWxlLCBib2R5LCBoYXNBd2FpdCkgPT4ge1xuXHR2YXIgcXVldWU7XG5cdGhhc0F3YWl0ICYmICgocXVldWUgPSBbXSkuZCA9IC0xKTtcblx0dmFyIGRlcFF1ZXVlcyA9IG5ldyBTZXQoKTtcblx0dmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cztcblx0dmFyIGN1cnJlbnREZXBzO1xuXHR2YXIgb3V0ZXJSZXNvbHZlO1xuXHR2YXIgcmVqZWN0O1xuXHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWopID0+IHtcblx0XHRyZWplY3QgPSByZWo7XG5cdFx0b3V0ZXJSZXNvbHZlID0gcmVzb2x2ZTtcblx0fSk7XG5cdHByb21pc2Vbd2VicGFja0V4cG9ydHNdID0gZXhwb3J0cztcblx0cHJvbWlzZVt3ZWJwYWNrUXVldWVzXSA9IChmbikgPT4gKHF1ZXVlICYmIGZuKHF1ZXVlKSwgZGVwUXVldWVzLmZvckVhY2goZm4pLCBwcm9taXNlW1wiY2F0Y2hcIl0oeCA9PiB7fSkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IHByb21pc2U7XG5cdHZhciBoYW5kbGUgPSAoZGVwcykgPT4ge1xuXHRcdGN1cnJlbnREZXBzID0gd3JhcERlcHMoZGVwcyk7XG5cdFx0dmFyIGZuO1xuXHRcdHZhciBnZXRSZXN1bHQgPSAoKSA9PiAoY3VycmVudERlcHMubWFwKChkKSA9PiB7XG5cblx0XHRcdGlmKGRbd2VicGFja0Vycm9yXSkgdGhyb3cgZFt3ZWJwYWNrRXJyb3JdO1xuXHRcdFx0cmV0dXJuIGRbd2VicGFja0V4cG9ydHNdO1xuXHRcdH0pKVxuXHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdGZuID0gKCkgPT4gKHJlc29sdmUoZ2V0UmVzdWx0KSk7XG5cdFx0XHRmbi5yID0gMDtcblx0XHRcdHZhciBmblF1ZXVlID0gKHEpID0+IChxICE9PSBxdWV1ZSAmJiAhZGVwUXVldWVzLmhhcyhxKSAmJiAoZGVwUXVldWVzLmFkZChxKSwgcSAmJiAhcS5kICYmIChmbi5yKyssIHEucHVzaChmbikpKSk7XG5cdFx0XHRjdXJyZW50RGVwcy5tYXAoKGRlcCkgPT4gKGRlcFt3ZWJwYWNrUXVldWVzXShmblF1ZXVlKSkpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBmbi5yID8gcHJvbWlzZSA6IGdldFJlc3VsdCgpO1xuXHR9XG5cdHZhciBkb25lID0gKGVycikgPT4gKChlcnIgPyByZWplY3QocHJvbWlzZVt3ZWJwYWNrRXJyb3JdID0gZXJyKSA6IG91dGVyUmVzb2x2ZShleHBvcnRzKSksIHJlc29sdmVRdWV1ZShxdWV1ZSkpXG5cdGJvZHkoaGFuZGxlLCBkb25lKTtcblx0cXVldWUgJiYgcXVldWUuZCA8IDAgJiYgKHF1ZXVlLmQgPSAwKTtcbn07IiwidmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mID8gKG9iaikgPT4gKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKSA6IChvYmopID0+IChvYmouX19wcm90b19fKTtcbnZhciBsZWFmUHJvdG90eXBlcztcbi8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLy8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLy8gbW9kZSAmIDE2OiByZXR1cm4gdmFsdWUgd2hlbiBpdCdzIFByb21pc2UtbGlrZVxuLy8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuX193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcblx0aWYobW9kZSAmIDEpIHZhbHVlID0gdGhpcyh2YWx1ZSk7XG5cdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG5cdGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUpIHtcblx0XHRpZigobW9kZSAmIDQpICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcblx0XHRpZigobW9kZSAmIDE2KSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG5cdHZhciBkZWYgPSB7fTtcblx0bGVhZlByb3RvdHlwZXMgPSBsZWFmUHJvdG90eXBlcyB8fCBbbnVsbCwgZ2V0UHJvdG8oe30pLCBnZXRQcm90byhbXSksIGdldFByb3RvKGdldFByb3RvKV07XG5cdGZvcih2YXIgY3VycmVudCA9IG1vZGUgJiAyICYmIHZhbHVlOyAodHlwZW9mIGN1cnJlbnQgPT0gJ29iamVjdCcgfHwgdHlwZW9mIGN1cnJlbnQgPT0gJ2Z1bmN0aW9uJykgJiYgIX5sZWFmUHJvdG90eXBlcy5pbmRleE9mKGN1cnJlbnQpOyBjdXJyZW50ID0gZ2V0UHJvdG8oY3VycmVudCkpIHtcblx0XHRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjdXJyZW50KS5mb3JFYWNoKChrZXkpID0+IChkZWZba2V5XSA9ICgpID0+ICh2YWx1ZVtrZXldKSkpO1xuXHR9XG5cdGRlZlsnZGVmYXVsdCddID0gKCkgPT4gKHZhbHVlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBkZWYpO1xuXHRyZXR1cm4gbnM7XG59OyIsInZhciBpblByb2dyZXNzID0ge307XG52YXIgZGF0YVdlYnBhY2tQcmVmaXggPSBcInpocy1ib29raW5nLWV4dGVuc2lvbjpcIjtcbi8vIGxvYWRTY3JpcHQgZnVuY3Rpb24gdG8gbG9hZCBhIHNjcmlwdCB2aWEgc2NyaXB0IHRhZ1xuX193ZWJwYWNrX3JlcXVpcmVfXy5sID0gKHVybCwgZG9uZSwga2V5LCBjaHVua0lkKSA9PiB7XG5cdGlmKGluUHJvZ3Jlc3NbdXJsXSkgeyBpblByb2dyZXNzW3VybF0ucHVzaChkb25lKTsgcmV0dXJuOyB9XG5cdHZhciBzY3JpcHQsIG5lZWRBdHRhY2g7XG5cdGlmKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHMgPSBzY3JpcHRzW2ldO1xuXHRcdFx0aWYocy5nZXRBdHRyaWJ1dGUoXCJzcmNcIikgPT0gdXJsIHx8IHMuZ2V0QXR0cmlidXRlKFwiZGF0YS13ZWJwYWNrXCIpID09IGRhdGFXZWJwYWNrUHJlZml4ICsga2V5KSB7IHNjcmlwdCA9IHM7IGJyZWFrOyB9XG5cdFx0fVxuXHR9XG5cdGlmKCFzY3JpcHQpIHtcblx0XHRuZWVkQXR0YWNoID0gdHJ1ZTtcblx0XHRzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuXHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04Jztcblx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuXHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuXHRcdH1cblx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwiZGF0YS13ZWJwYWNrXCIsIGRhdGFXZWJwYWNrUHJlZml4ICsga2V5KTtcblxuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiAoZm4oZXZlbnQpKSk7XG5cdFx0aWYocHJldikgcmV0dXJuIHByZXYoZXZlbnQpO1xuXHR9XG5cdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgdW5kZWZpbmVkLCB7IHR5cGU6ICd0aW1lb3V0JywgdGFyZ2V0OiBzY3JpcHQgfSksIDEyMDAwMCk7XG5cdHNjcmlwdC5vbmVycm9yID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmVycm9yKTtcblx0c2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCBzY3JpcHQub25sb2FkKTtcblx0bmVlZEF0dGFjaCAmJiBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59OyIsImV4cG9ydCBmdW5jdGlvbiBpbmplY3RDb3Vyc2VDYXJkU3R5bGVzKCkge1xyXG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15RXh0LWNvdXJzZS1zdHlsZXNcIikpIHJldHVybjtcclxuXHJcbiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcbiAgc3R5bGUuaWQgPSBcIm15RXh0LWNvdXJzZS1zdHlsZXNcIjtcclxuICBzdHlsZS50ZXh0Q29udGVudCA9IGBcclxuICAgICAgLm15RXh0LWNvdXJzZS1jYXJkIHtcclxuICAgICAgICBmb250LWZhbWlseTogc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiU2Vnb2UgVUlcIiwgc2Fucy1zZXJpZjtcclxuICAgICAgICBtYXgtd2lkdGg6IDQyMHB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDE0cHggMThweDtcclxuICAgICAgICBtYXJnaW46IDEycHggYXV0bztcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XHJcbiAgICAgICAgYm94LXNoYWRvdzogMCA2cHggMThweCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNCk7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIGdhcDogMTBweDtcclxuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5teUV4dC1jb3Vyc2UtY2FyZDo6YmVmb3JlIHtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBpbnNldDogMDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjM2I4MmY2LCAjMjJjNTVlKTtcclxuICAgICAgICBvcGFjaXR5OiAwLjA1O1xyXG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5teUV4dC1jb3Vyc2UtaGVhZGVyIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxuICAgICAgICBnYXA6IDEycHg7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLm15RXh0LWNvdXJzZS10aXRsZSB7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgY29sb3I6ICMxMTE4Mjc7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLm15RXh0LWNvdXJzZS1zdWIge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgIGNvbG9yOiAjMWYyOTM3O1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5teUV4dC1jb3Vyc2Utc2xvdHMge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICBwYWRkaW5nOiA0cHggOHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNlY2ZkZjU7XHJcbiAgICAgICAgY29sb3I6ICMxNjY1MzQ7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5teUV4dC1jb3Vyc2Utc2xvdHMtLWxvdyB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI2ZlZjNjNztcclxuICAgICAgICBjb2xvcjogIzkyNDAwZTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICAubXlFeHQtY291cnNlLXNsb3RzLS1ub25lIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjZmVlMmUyO1xyXG4gICAgICAgIGNvbG9yOiAjYjkxYzFjO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5teUV4dC1jb3Vyc2UtZm9vdGVyIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBnYXA6IDhweDtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICAubXlFeHQtY291cnNlLWJ1dHRvbiB7XHJcbiAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDZweCAxNHB4O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjM2I4MmY2LCAjMjU2M2ViKTtcclxuICAgICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIGdhcDogNnB4O1xyXG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgzNywgOTksIDIzNSwgMC4zNSk7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMDhzIGVhc2UsIGJveC1zaGFkb3cgMC4wOHMgZWFzZSwgZmlsdGVyIDAuMDhzIGVhc2U7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLm15RXh0LWNvdXJzZS1idXR0b246aG92ZXIge1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcclxuICAgICAgICBib3gtc2hhZG93OiAwIDZweCAxNnB4IHJnYmEoMzcsIDk5LCAyMzUsIDAuNDUpO1xyXG4gICAgICAgIGZpbHRlcjogYnJpZ2h0bmVzcygxLjA1KTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICAubXlFeHQtY291cnNlLWJ1dHRvbjphY3RpdmUge1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgICAgICBib3gtc2hhZG93OiAwIDNweCA4cHggcmdiYSgzNywgOTksIDIzNSwgMC4zKTtcclxuICAgICAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMC45Nyk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLm15RXh0LWNvdXJzZS1idXR0b24taWNvbiB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5teUV4dC1jb3Vyc2Utbm90LWF2YWlsYWJsZSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDRweCAxMHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmM2Y0ZjY7XHJcbiAgICAgICAgY29sb3I6ICM2YjcyODA7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgfVxyXG4gICAgYDtcclxuXHJcbiAgc3R5bGUudGV4dENvbnRlbnQgKz0gYFxyXG4gICAgLm15RXh0LXdlZWstYnRuLXdyYXBwZXIge1xyXG4gICAgICBtYXgtd2lkdGg6IDQyMHB4O1xyXG4gICAgICBtYXJnaW46IDIwcHggYXV0byAxNHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5teUV4dC13ZWVrLWJ0biB7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICBwYWRkaW5nOiAxMHB4IDE2cHg7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxMGI5ODEsICMwNTk2NjkpO1xyXG4gICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgxNiwgMTg1LCAxMjksIDAuMzUpO1xyXG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4wOHMgZWFzZSwgYm94LXNoYWRvdyAwLjA4cyBlYXNlLCBmaWx0ZXIgMC4wOHMgZWFzZTtcclxuICAgIH1cclxuXHJcbiAgICAubXlFeHQtd2Vlay1idG46aG92ZXIge1xyXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7XHJcbiAgICAgIGZpbHRlcjogYnJpZ2h0bmVzcygxLjA0KTtcclxuICAgICAgYm94LXNoYWRvdzogMCA2cHggMTZweCByZ2JhKDE2LCAxODUsIDEyOSwgMC40NSk7XHJcbiAgICB9XHJcblxyXG4gICAgLm15RXh0LXdlZWstYnRuOmFjdGl2ZSB7XHJcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgICAgZmlsdGVyOiBicmlnaHRuZXNzKDAuOTcpO1xyXG4gICAgICBib3gtc2hhZG93OiAwIDNweCA4cHggcmdiYSgxNiwgMTg1LCAxMjksIDAuMyk7XHJcbiAgICB9XHJcbmA7XHJcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGluamVjdEV4dGVuc2lvbkJhbm5lcigpIHtcclxuICAgIC8vIFByZXZlbnQgZHVwbGljYXRlc1xyXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlFeHQtYmFubmVyXCIpKSByZXR1cm47XHJcbiAgXHJcbiAgICAvLyAtLS0gSW5qZWN0IENTUyAtLS1cclxuICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgc3R5bGUuaWQgPSBcIm15RXh0LWJhbm5lci1zdHlsZVwiO1xyXG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXHJcbiAgICAgIC5teUV4dC1iYW5uZXIge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHBhZGRpbmc6IDVweDtcclxuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIFxyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNik7XHJcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTRweCByZ2JhKDAsIDAsIDAsIDAuMDcpO1xyXG4gIFxyXG4gICAgICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgIGNvbG9yOiAjMWYyOTM3O1xyXG4gIFxyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICAubXlFeHQtYmFubmVyOjpiZWZvcmUge1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGluc2V0OiAwO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMzYjgyZjYsICMyMmM1NWUpO1xyXG4gICAgICAgIG9wYWNpdHk6IDAuMDU7XHJcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLm15RXh0LWJhbm5lci1jb250ZW50IHtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgfVxyXG4gICAgYDtcclxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG4gIFxyXG4gICAgLy8gLS0tIENyZWF0ZSB0aGUgYmFubmVyIC0tLVxyXG4gICAgY29uc3QgYmFubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGJhbm5lci5pZCA9IFwibXlFeHQtYmFubmVyXCI7XHJcbiAgICBiYW5uZXIuY2xhc3NOYW1lID0gXCJteUV4dC1iYW5uZXJcIjtcclxuICBcclxuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBsYWJlbC5jbGFzc05hbWUgPSBcIm15RXh0LWJhbm5lci1jb250ZW50XCI7XHJcbiAgICBsYWJlbC50ZXh0Q29udGVudCA9IFwiemhzLWJvb2tpbmctZXh0ZW5zaW9uXCI7XHJcbiAgXHJcbiAgICBiYW5uZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gIFxyXG4gICAgLy8gSW5zZXJ0IGF0IHRoZSB0b3Agb2YgPGJvZHk+XHJcbiAgICBkb2N1bWVudC5ib2R5LnByZXBlbmQoYmFubmVyKTtcclxuICBcclxuICAgIHJldHVybiBiYW5uZXI7XHJcbiAgfVxyXG4gICIsImxldCBmc1xyXG5cclxudHJ5IHtcclxuICBmcyA9IGF3YWl0IGltcG9ydCgnZnMnKVxyXG59IGNhdGNoIChlcnJvcikge1xyXG4gIGNvbnNvbGUud2FybihcIkNvdWxkIGltcG9ydCBtb2R1bGUgJ2ZzJy4gVGhpcyBlcnJvciBjYW4gb2NjdXIgd2hlbiB1c2luZyB0aGlzIG1vZHVsZSBpbnNpZGUgdGhlIGJyb3dzZXIgb3IgJ2ZzJyBpcyBub3QgaW5zdGFsbGVkLiBJZiB5b3UgYXJlIHdvcmtpbmcgaW5zaWRlIG5vZGUgdHJ5IHJ1biAnbnBtIGluc3RhbGwgZnMnXCIpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvb2tpZVN0cmluZyhqc29uT2JqZWN0KSB7XHJcbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoanNvbk9iamVjdClcclxuICAgIFxyXG4gICAgcmV0dXJuIGVudHJpZXMubWFwKChba2V5LCB2YWxdKSA9PiBgJHtrZXl9PSR7dmFsfWApLmpvaW4oXCI7IFwiKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZEpzb25GaWxlKHBhdGgpIHtcclxuICAgIGNvbnN0IGZpbGUgPSBmcy5yZWFkRmlsZVN5bmMocGF0aCwgJ3V0ZjgnKVxyXG5cclxuICAgIHJldHVybiBKU09OLnBhcnNlKGZpbGUpXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV4dERheURhdGUoZGF5KSB7XHJcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICBsZXQgdGFyZ2V0RGF5O1xyXG4gIFxyXG4gICAgLy8gQWxsb3cgYm90aCBudW1iZXJzICgw4oCTNikgYW5kIG5hbWVzIChcIm1vbmRheVwiKVxyXG4gICAgaWYgKHR5cGVvZiBkYXkgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgdGFyZ2V0RGF5ID0gZGF5O1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF5ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIGNvbnN0IGRheXMgPSBbXCJzdW5kYXlcIiwgXCJtb25kYXlcIiwgXCJ0dWVzZGF5XCIsIFwid2VkbmVzZGF5XCIsIFwidGh1cnNkYXlcIiwgXCJmcmlkYXlcIiwgXCJzYXR1cmRheVwiXTtcclxuICAgICAgdGFyZ2V0RGF5ID0gZGF5cy5pbmRleE9mKGRheS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgaWYgKHRhcmdldERheSA9PT0gLTEpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRheSBuYW1lXCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXkgbXVzdCBiZSBhIG51bWJlciAoMOKAkzYpIG9yIHdlZWtkYXkgbmFtZVwiKTtcclxuICAgIH1cclxuICBcclxuICAgIGNvbnN0IGN1cnJlbnREYXkgPSB0b2RheS5nZXREYXkoKTtcclxuICBcclxuICAgIC8vIENhbGN1bGF0ZSBkYXlzIHVudGlsIG5leHQgb2NjdXJyZW5jZSAobmV2ZXIgdG9kYXkg4oaSIGFsd2F5cyBmdXR1cmUpXHJcbiAgICBjb25zdCBkYXlzVW50aWwgPSAodGFyZ2V0RGF5IC0gY3VycmVudERheSArIDcpICUgNyB8fCA3O1xyXG4gIFxyXG4gICAgY29uc3QgbmV4dERhdGUgPSBuZXcgRGF0ZSh0b2RheSk7XHJcbiAgICBuZXh0RGF0ZS5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIGRheXNVbnRpbCk7XHJcbiAgXHJcbiAgICAvLyBGb3JtYXQgWVlZWS1NTS1ERFxyXG4gICAgY29uc3QgeWVhciA9IG5leHREYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhuZXh0RGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xyXG4gICAgY29uc3QgZGF5TnVtID0gU3RyaW5nKG5leHREYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xyXG4gIFxyXG4gICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5TnVtfWA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvZmZzZXRXZWVrZGF5KHdlZWtkYXksIG9mZnNldCkge1xyXG4gICAgY29uc3QgZGF5cyA9IFtcInN1bmRheVwiLCBcIm1vbmRheVwiLCBcInR1ZXNkYXlcIiwgXCJ3ZWRuZXNkYXlcIiwgXCJ0aHVyc2RheVwiLCBcImZyaWRheVwiLCBcInNhdHVyZGF5XCJdO1xyXG4gIFxyXG4gICAgLy8gTm9ybWFsaXplIGlucHV0IHRvIGxvd2VyY2FzZVxyXG4gICAgY29uc3QgaW5kZXggPSBkYXlzLmluZGV4T2Yod2Vla2RheS50b0xvd2VyQ2FzZSgpKTtcclxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB3ZWVrZGF5OiBcIiArIHdlZWtkYXkpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8gQ2FsY3VsYXRlIG5ldyBpbmRleCB1c2luZyBtb2R1bG8gdGhhdCB3b3JrcyB3aXRoIG5lZ2F0aXZlc1xyXG4gICAgY29uc3QgbmV3SW5kZXggPSAoaW5kZXggKyBvZmZzZXQgJSA3ICsgNykgJSA3O1xyXG4gIFxyXG4gICAgcmV0dXJuIGRheXNbbmV3SW5kZXhdO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIG9mZnNldFdlZWsoZGF0ZVN0cmluZywgb2Zmc2V0KSB7XHJcbiAgICAvLyBDb252ZXJ0IHRvIERhdGUgb2JqZWN0XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XHJcbiAgXHJcbiAgICAvLyBBZGQgb2Zmc2V0ICogNyBkYXlzXHJcbiAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBvZmZzZXQgKiA3KTtcclxuICBcclxuICAgIC8vIENvbnZlcnQgYmFjayB0byBZWVlZLU1NLUREXHJcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xyXG4gICAgY29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XHJcbiAgXHJcbiAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDtcclxuICB9IiwiLy8gc3JjL2NvbnRlbnQuanNcclxuXHJcbmltcG9ydCB7IFpIU0NsaWVudCB9IGZyb20gJ3pocy1jbGllbnQtanMnO1xyXG5pbXBvcnQgeyBpbmplY3RDb3Vyc2VDYXJkU3R5bGVzIH0gZnJvbSAnLi9zdHlsZXMuanMnO1xyXG5pbXBvcnQgeyBpbmplY3RFeHRlbnNpb25CYW5uZXIgfSBmcm9tICcuL2Jhbm5lci5qcyc7XHJcbi8vIG9yIHdoYXRldmVyIHRoZSBtb2R1bGUncyBkZWZhdWx0L25hbWVkIGV4cG9ydCBpcztcclxuLy8gaWYgaXQncyBDb21tb25KUyB5b3UgbWlnaHQgbmVlZDpcclxuLy8gaW1wb3J0ICogYXMgWmhzQ2xpZW50IGZyb20gJ3pocy1jbGllbnQtanMnO1xyXG5jb25zb2xlLmxvZygnWkhTIEJvb2tpbmcgY29udGVudCBzY3JpcHQgbG9hZGVkJyk7XHJcbmNvbnNvbGUubG9nKGRvY3VtZW50LmNvb2tpZSk7XHJcblxyXG5pbmplY3RFeHRlbnNpb25CYW5uZXIoKVxyXG5cclxuZnVuY3Rpb24gc2xlZXAobXMpIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSlcclxufVxyXG5hd2FpdCBzbGVlcCgxMDAwKVxyXG5pbmplY3RDb3Vyc2VDYXJkU3R5bGVzKClcclxuY29uc3QgY2xpZW50ID0gWkhTQ2xpZW50LmZyb21Db29raWVTdHJpbmcoZG9jdW1lbnQuY29va2llKVxyXG5cclxuY29uc3QgcGFyZW50SWRzID0gT2JqZWN0LmVudHJpZXMoY2xpZW50LmNvdXJzZXMpLm1hcCgoW2tleSwgdmFsXSkgPT4gKHtbdmFsLnBhcmVudElkXToga2V5fSkpLnJlZHVjZSgoYSxiKSA9PiAoey4uLmEsIC4uLmJ9KSwge30pXHJcblxyXG5cclxuY29uc3QgcGFyZW50SGl0ID0gT2JqZWN0LmtleXMocGFyZW50SWRzKS5maW5kKGEgPT4gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoYSkpXHJcblxyXG5sZXQgZ2xvYmFsT2Zmc2V0ID0gMFxyXG5cclxuaWYocGFyZW50SGl0KXtcclxuICAgIGNvbnN0IGF2YWlsYWJsZUNvdXJzZXMgPSBjb3Vyc2VzQnlQYXJlbnRJZChwYXJlbnRIaXQpXHJcbiAgICBjb25zb2xlLmxvZyhcIkt1cnNlIGdlZnVuZGVuXCIsIGF2YWlsYWJsZUNvdXJzZXMpXHJcblxyXG5cclxuICAgIFxyXG4gICAgcmVuZGVyTmV4dFdlZWtCdXR0b24oKCkgPT4gaXRlcmF0ZUNvdXJzZXMoYXZhaWxhYmxlQ291cnNlcykpXHJcbiAgICBhd2FpdCBpdGVyYXRlQ291cnNlcyhhdmFpbGFibGVDb3Vyc2VzKVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlR2xvYmFsT2Zmc2V0KCl7XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5mbG9vcigoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm15RXh0LWNvdXJzZS1jYXJkXCIpLmxlbmd0aCAvIDMpICksIDApXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGl0ZXJhdGVDb3Vyc2VzKGF2YWlsYWJsZUNvdXJzZXMpIHtcclxuICAgIGNvbnN0IG9mZnNldCA9IGNhbGN1bGF0ZUdsb2JhbE9mZnNldCgpXHJcbiAgICBjb25zb2xlLmxvZyhvZmZzZXQpXHJcbiAgICBpZighYXZhaWxhYmxlQ291cnNlcykge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihhdmFpbGFibGVDb3Vyc2VzLCBcIm5vdCBpdGVyYWJsZVwiKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgZm9yKGNvbnN0IGNvdXJzZSBvZiBhdmFpbGFibGVDb3Vyc2VzKXtcclxuICAgICAgICBhd2FpdCB2YWxpZGF0ZUNvdXJzZShjb3Vyc2UsIG9mZnNldClcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlQ291cnNlKGNvdXJzZSwgb2Zmc2V0ID0gMCl7XHJcbiAgICAgICAgY29uc3QgbmV4dENvdXJzZSA9IGNsaWVudC5jb3Vyc2VzW2NvdXJzZV0ubmV4dENvdXJzZVN0YXJ0KG9mZnNldClcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjbGllbnQuZ2V0Q291cnNlU2xvdERldGFpbHMoY291cnNlLCBvZmZzZXQpXHJcbiAgICAgICAgY29uc3Qgc2xvdEF2YWlsYWJsZSA9IHJlcy5kYXRhLmJvb2tpbmdfc2xvdHMubGVuZ3RoID4gMFxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHJlbmRlckNvdXJzZUNhcmQoe1xyXG4gICAgICAgICAgICBjb3Vyc2UsXHJcbiAgICAgICAgICAgIG5leHRDb3Vyc2UsXHJcbiAgICAgICAgICAgIHJlcyxcclxuICAgICAgICAgICAgc2xvdEF2YWlsYWJsZSxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LmJvb2soY291cnNlLCBvZmZzZXQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY291cnNlc0J5UGFyZW50SWQocGFyZW50SWQpe1xyXG4gICAgbGV0IGNvdXJzZXMgPSBbXVxyXG4gICAgZm9yKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoY2xpZW50LmNvdXJzZXMpKXtcclxuICAgICAgICBpZih2YWwucGFyZW50SWQgPT0gcGFyZW50SWQpXHJcbiAgICAgICAgICAgIGNvdXJzZXMucHVzaChrZXkpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gY291cnNlc1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJOZXh0V2Vla0J1dHRvbihvbkNsaWNrKSB7XHJcbiAgICAvL2luamVjdENvdXJzZUNhcmRTdHlsZXMoKTtcclxuICAgIGdsb2JhbE9mZnNldCsrXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbmRlci1uZXh0LXdlZWstYnRuLWlkXCIpPy5yZW1vdmUoKVxyXG4gICAgLy8gV3JhcHBlciB0aGF0IG1hdGNoZXMgY2FyZCB3aWR0aCAoNDIwcHgpXHJcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gXCJteUV4dC13ZWVrLWJ0bi13cmFwcGVyXCI7XHJcbiAgICB3cmFwcGVyLmlkID0gXCJyZW5kZXItbmV4dC13ZWVrLWJ0bi1pZFwiXHJcbiAgXHJcbiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgYnRuLmNsYXNzTmFtZSA9IFwibXlFeHQtd2Vlay1idG5cIjtcclxuICAgIGJ0bi50ZXh0Q29udGVudCA9IFwiTsOkY2hzdGUgV29jaGUgbGFkZW5cIjtcclxuICBcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09IFwiZnVuY3Rpb25cIikgb25DbGljaygpO1xyXG4gICAgfSk7XHJcbiAgXHJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGJ0bik7XHJcbiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xyXG4gICAgYXBwZW5kVW5kZXJQcm9kdWN0SW5mbyh3cmFwcGVyKVxyXG4gIH1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNvdXJzZUNhcmQoeyBjb3Vyc2UsIG5leHRDb3Vyc2UsIHJlcywgc2xvdEF2YWlsYWJsZSwgb25DbGljayB9KSB7XHJcbiAgXHJcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJteUV4dC1jb3Vyc2UtY2FyZFwiO1xyXG5cclxuICAvLyBIRUFERVJcclxuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGhlYWRlci5jbGFzc05hbWUgPSBcIm15RXh0LWNvdXJzZS1oZWFkZXJcIjtcclxuXHJcbiAgY29uc3QgdGl0bGVXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHJcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIHRpdGxlLmNsYXNzTmFtZSA9IFwibXlFeHQtY291cnNlLXRpdGxlXCI7XHJcbiAgdGl0bGUudGV4dENvbnRlbnQgPSBjb3Vyc2U7XHJcblxyXG4gIGNvbnN0IHN1YiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgc3ViLmNsYXNzTmFtZSA9IFwibXlFeHQtY291cnNlLXN1YlwiO1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShuZXh0Q291cnNlKTtcclxuICBzdWIudGV4dENvbnRlbnQgPSBuZXh0Q291cnNlID8gYCR7ZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKX0gJHtkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpfWAgOiBcIuKAk1wiO1xyXG5cclxuICB0aXRsZVdyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gIHRpdGxlV3JhcHBlci5hcHBlbmRDaGlsZChzdWIpO1xyXG5cclxuICBjb25zdCBzbG90c0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb25zdCBzbG90cyA9IHNsb3RBdmFpbGFibGUgPyByZXMuZGF0YS5ib29raW5nX3Nsb3RzWzBdLmF2YWlsYWJpbGl0eSA6IDA7XHJcbiAgc2xvdHNCYWRnZS5jbGFzc05hbWUgPSBcIm15RXh0LWNvdXJzZS1zbG90c1wiO1xyXG5cclxuICBpZiAoIXNsb3RBdmFpbGFibGUgfHwgc2xvdHMgPT09IDApIHtcclxuICAgIHNsb3RzQmFkZ2UuY2xhc3NMaXN0LmFkZChcIm15RXh0LWNvdXJzZS1zbG90cy0tbm9uZVwiKTtcclxuICAgIHNsb3RzQmFkZ2UudGV4dENvbnRlbnQgPSBcIktlaW5lIFNsb3RzIHZlcmbDvGdiYXJcIjtcclxuICB9IGVsc2UgaWYgKHNsb3RzIDw9IDMpIHtcclxuICAgIHNsb3RzQmFkZ2UuY2xhc3NMaXN0LmFkZChcIm15RXh0LWNvdXJzZS1zbG90cy0tbG93XCIpO1xyXG4gICAgc2xvdHNCYWRnZS50ZXh0Q29udGVudCA9IGAke3Nsb3RzfSBTbG90cyDigJMgZmFzdCB2b2xsYDtcclxuICB9IGVsc2Uge1xyXG4gICAgc2xvdHNCYWRnZS50ZXh0Q29udGVudCA9IGAke3Nsb3RzfSBTbG90cyB2ZXJmw7xnYmFyYDtcclxuICB9XHJcblxyXG4gIGhlYWRlci5hcHBlbmRDaGlsZCh0aXRsZVdyYXBwZXIpO1xyXG4gIGhlYWRlci5hcHBlbmRDaGlsZChzbG90c0JhZGdlKTtcclxuXHJcbiAgLy8gRk9PVEVSXHJcbiAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBmb290ZXIuY2xhc3NOYW1lID0gXCJteUV4dC1jb3Vyc2UtZm9vdGVyXCI7XHJcblxyXG4gIC8vIE5FVzogY2hlY2sgYWxyZWFkeV9ib29rZWQgLyBhbHJlYWR5X2luX2NhcnRcclxuICBjb25zdCBzbG90SW5mbyA9IHNsb3RBdmFpbGFibGUgPyByZXMuZGF0YS5ib29raW5nX3Nsb3RzWzBdIDogbnVsbDtcclxuICBjb25zdCBhbHJlYWR5Qm9va2VkID0gc2xvdEluZm8gJiYgc2xvdEluZm8uYWxyZWFkeV9ib29rZWQ7XHJcbiAgY29uc3QgYWxyZWFkeUluQ2FydCA9IHNsb3RJbmZvICYmIHNsb3RJbmZvLmFscmVhZHlfaW5fY2FydDtcclxuXHJcbiAgaWYgKHNsb3RBdmFpbGFibGUgJiYgc2xvdHMgPiAwICYmICFhbHJlYWR5Qm9va2VkICYmICFhbHJlYWR5SW5DYXJ0KSB7XHJcbiAgICAvLyBvbmx5IHNob3cgYnV0dG9uIGlmIE5PVCBhbHJlYWR5IGJvb2tlZCBvciBpbiBjYXJ0XHJcbiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgYnRuLmNsYXNzTmFtZSA9IFwibXlFeHQtY291cnNlLWJ1dHRvblwiO1xyXG4gICAgYnRuLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cIm15RXh0LWNvdXJzZS1idXR0b24taWNvblwiPvCfm5I8L3NwYW4+PHNwYW4+SW4gV2FyZW5rb3JiIGxlZ2VuPC9zcGFuPmA7XHJcblxyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiSW4gV2FyZW5rb3JiIGxlZ2VuXCIsIGNvdXJzZSk7XHJcbiAgICAgIGlmIChzbG90QXZhaWxhYmxlICYmIG9uQ2xpY2spIG9uQ2xpY2soKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZvb3Rlci5hcHBlbmRDaGlsZChidG4pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBub3RBdmFpbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBub3RBdmFpbC5jbGFzc05hbWUgPSBcIm15RXh0LWNvdXJzZS1ub3QtYXZhaWxhYmxlXCI7XHJcblxyXG4gICAgaWYgKGFscmVhZHlCb29rZWQpIHtcclxuICAgICAgbm90QXZhaWwudGV4dENvbnRlbnQgPSBcIkJlcmVpdHMgZ2VidWNodFwiO1xyXG4gICAgfSBlbHNlIGlmIChhbHJlYWR5SW5DYXJ0KSB7XHJcbiAgICAgIG5vdEF2YWlsLnRleHRDb250ZW50ID0gXCJCZXJlaXRzIGltIFdhcmVua29yYlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbm90QXZhaWwudGV4dENvbnRlbnQgPSBcIk5pY2h0IGJ1Y2hiYXJcIjtcclxuICAgIH1cclxuXHJcbiAgICBmb290ZXIuYXBwZW5kQ2hpbGQobm90QXZhaWwpO1xyXG4gIH1cclxuXHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRlcik7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZvb3Rlcik7XHJcblxyXG4gIGFwcGVuZFVuZGVyUHJvZHVjdEluZm8oY29udGFpbmVyKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGFwcGVuZFVuZGVyUHJvZHVjdEluZm8oZWwpIHtcclxuICAvLyBGaW5kIHRoZSB0YXJnZXQgYmxvY2tcclxuICBjb25zdCB0YXJnZXQgPVxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwicHJvZHVjdC1vZmZlci1pbmZvXCJdLmZsZXguZmxleC1jb2wuZ2FwLXktNCcpIHx8XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZXN0aWQ9XCJwcm9kdWN0LW9mZmVyLWluZm9cIl0nKTtcclxuXHJcbiAgLy8gSWYgZm91bmQg4oaSIGluc2VydCBhZnRlclxyXG4gIGlmICh0YXJnZXQgJiYgdGFyZ2V0LnBhcmVudE5vZGUpIHtcclxuICAgIGlmICh0YXJnZXQubmV4dFNpYmxpbmcpIHtcclxuICAgICAgdGFyZ2V0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsLCB0YXJnZXQubmV4dFNpYmxpbmcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGFyZ2V0LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWwpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBGYWxsYmFjayDihpIgdG9wIG9mIGJvZHlcclxuICAgIGRvY3VtZW50LmJvZHkucHJlcGVuZChlbCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgb2Zmc2V0V2VlaywgZ2V0TmV4dERheURhdGUsIG9mZnNldFdlZWtkYXkgfSBmcm9tIFwiLi9oZWxwZXIuanNcIjtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgY291cnNlcyA9IHtcclxuICAgIFwiVGlzY2h0ZW5uaXMgLSBGcmVpZXMgU3BpZWwgU2Ftc3RhZ1wiOiB7XHJcbiAgICAgICAgcXVlcnlTdHJpbmcob2Zmc2V0ID0gMCl7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBcInF1ZXJ5XCI6IFwiXFxubXV0YXRpb24gQWRkX3Nsb3RfcHJvZHVjdF90b19jYXJ0KCRpbnB1dDogQWRkU2xvdFByb2R1Y3RUb0NhcnRJbnB1dCEpIHtcXG4gICAgYWRkX3Nsb3RfcHJvZHVjdF90b19jYXJ0KFxcbiAgICAgICAgaW5wdXQ6ICRpbnB1dFxcbiAgICApIHtcXG4gICAgICAgICAgICBpZFxcbiAgICAgICAgICAgIHJlc2VydmVkX3VudGlsXFxuICAgICAgICAgICAgc2Vjb25kc191bnRpbF9yZXNlcnZhdGlvbl9lbmRzXFxuICAgICAgICAgICAgY3JlYXRlZF9hdFxcbiAgICAgICAgcHJvZHVjdHMge1xcbiAgICAgICAgICAgICAgICAgICAgaWRcXG4gICAgICAgICAgICAgICAgICAgIG5hbWVcXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgX190eXBlbmFtZVxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9XFxufVwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YXJpYWJsZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICBcImlucHV0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInBhcmVudF9pZFwiOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic2xvdF9zdGFydFwiOiB0aGlzLm5leHRDb3Vyc2VTdGFydChvZmZzZXQpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic2xvdF9lbmRcIjogdGhpcy5uZXh0Q291cnNlRW5kKG9mZnNldCksXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlkOiBcIjc1YzllMmZlLWJiNjItNDE3NC04N2U3LWU1YzY5ZmU3YzkwY1wiLFxyXG4gICAgICAgIG5leHRDb3Vyc2VTdGFydChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCdzYXR1cmRheScpLCBvZmZzZXQpfVQwODowMDowMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0Q291cnNlRW5kIChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCdzYXR1cmRheScpLCBvZmZzZXQpfVQxMDowMDowMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJlbnRJZDogXCI5MGFiNzIyZi0yMTUwLTQ4OTEtYjg3My0wM2JmNDA4ZTQ0NzhcIlxyXG4gICAgfSxcclxuICAgIC8vXHJcbiAgICBcIkJhZG1pbnRvbiAtIEZyZWllcyBTcGllbCBEb25uZXJzdGFnXCI6IHtcclxuICAgICAgICBxdWVyeVN0cmluZyhvZmZzZXQgPSAwKXtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIFwicXVlcnlcIjogXCJcXG5tdXRhdGlvbiBBZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoJGlucHV0OiBBZGRTbG90UHJvZHVjdFRvQ2FydElucHV0ISkge1xcbiAgICBhZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoXFxuICAgICAgICBpbnB1dDogJGlucHV0XFxuICAgICkge1xcbiAgICAgICAgICAgIGlkXFxuICAgICAgICAgICAgcmVzZXJ2ZWRfdW50aWxcXG4gICAgICAgICAgICBzZWNvbmRzX3VudGlsX3Jlc2VydmF0aW9uX2VuZHNcXG4gICAgICAgICAgICBjcmVhdGVkX2F0XFxuICAgICAgICBwcm9kdWN0cyB7XFxuICAgICAgICAgICAgICAgICAgICBpZFxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICBfX3R5cGVuYW1lXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG59XCIsXHJcbiAgICAgICAgICAgICAgICBcInZhcmlhYmxlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgIFwiaW5wdXRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicGFyZW50X2lkXCI6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X3N0YXJ0XCI6IHRoaXMubmV4dENvdXJzZVN0YXJ0KG9mZnNldCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X2VuZFwiOiB0aGlzLm5leHRDb3Vyc2VFbmQob2Zmc2V0KSxcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaWQ6IFwiZjI2NmEwMmMtOGRjYy00NGFjLWJhY2EtYjYzNzA2ZmVkNWNhXCIsXHJcbiAgICAgICAgbmV4dENvdXJzZVN0YXJ0KG9mZnNldCA9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke29mZnNldFdlZWsoZ2V0TmV4dERheURhdGUoJ3RodXJzZGF5JyksIG9mZnNldCl9VDIwOjMwOjAwWmBcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5leHRDb3Vyc2VFbmQgKG9mZnNldCA9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke29mZnNldFdlZWsoZ2V0TmV4dERheURhdGUoJ3RodXJzZGF5JyksIG9mZnNldCl9VDIyOjAwOjAwWmBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhcmVudElkOiBcIjM3MDE5YmYwLTI0ZGYtNGI1Ni04YzZkLTI0MjNlYTgzZDMwYVwiXHJcbiAgICB9LFxyXG4gICAgXCJCYWRtaW50b24gLSBGcmVpZXMgU3BpZWwgRnJlaXRhZ1wiOiB7XHJcbiAgICAgICAgcXVlcnlTdHJpbmcob2Zmc2V0ID0gMCl7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBcInF1ZXJ5XCI6IFwiXFxubXV0YXRpb24gQWRkX3Nsb3RfcHJvZHVjdF90b19jYXJ0KCRpbnB1dDogQWRkU2xvdFByb2R1Y3RUb0NhcnRJbnB1dCEpIHtcXG4gICAgYWRkX3Nsb3RfcHJvZHVjdF90b19jYXJ0KFxcbiAgICAgICAgaW5wdXQ6ICRpbnB1dFxcbiAgICApIHtcXG4gICAgICAgICAgICBpZFxcbiAgICAgICAgICAgIHJlc2VydmVkX3VudGlsXFxuICAgICAgICAgICAgc2Vjb25kc191bnRpbF9yZXNlcnZhdGlvbl9lbmRzXFxuICAgICAgICAgICAgY3JlYXRlZF9hdFxcbiAgICAgICAgcHJvZHVjdHMge1xcbiAgICAgICAgICAgICAgICAgICAgaWRcXG4gICAgICAgICAgICAgICAgICAgIG5hbWVcXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgX190eXBlbmFtZVxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9XFxufVwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YXJpYWJsZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICBcImlucHV0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInBhcmVudF9pZFwiOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic2xvdF9zdGFydFwiOiB0aGlzLm5leHRDb3Vyc2VTdGFydChvZmZzZXQpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic2xvdF9lbmRcIjogdGhpcy5uZXh0Q291cnNlRW5kKG9mZnNldCksXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlkOiBcIjkxYTlkOWFlLWM3YTYtNDA3OC04ZWYwLWFhNzBjZTA2ODg2OFwiLFxyXG4gICAgICAgIG5leHRDb3Vyc2VTdGFydChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCdmcmlkYXknKSwgb2Zmc2V0KX0xOTowMDowMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0Q291cnNlRW5kIChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCdmcmlkYXknKSwgb2Zmc2V0KX1UMjA6MzA6MDBaYFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFyZW50SWQ6IFwiMzcwMTliZjAtMjRkZi00YjU2LThjNmQtMjQyM2VhODNkMzBhXCJcclxuICAgIH0sXHJcbiAgICBcIkJhZG1pbnRvbiAtIEZyZWllcyBTcGllbCBTYW1zdGFnXCI6IHtcclxuICAgICAgICBxdWVyeVN0cmluZyhvZmZzZXQgPSAwKXtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIFwicXVlcnlcIjogXCJcXG5tdXRhdGlvbiBBZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoJGlucHV0OiBBZGRTbG90UHJvZHVjdFRvQ2FydElucHV0ISkge1xcbiAgICBhZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoXFxuICAgICAgICBpbnB1dDogJGlucHV0XFxuICAgICkge1xcbiAgICAgICAgICAgIGlkXFxuICAgICAgICAgICAgcmVzZXJ2ZWRfdW50aWxcXG4gICAgICAgICAgICBzZWNvbmRzX3VudGlsX3Jlc2VydmF0aW9uX2VuZHNcXG4gICAgICAgICAgICBjcmVhdGVkX2F0XFxuICAgICAgICBwcm9kdWN0cyB7XFxuICAgICAgICAgICAgICAgICAgICBpZFxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICBfX3R5cGVuYW1lXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG59XCIsXHJcbiAgICAgICAgICAgICAgICBcInZhcmlhYmxlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgIFwiaW5wdXRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicGFyZW50X2lkXCI6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X3N0YXJ0XCI6IHRoaXMubmV4dENvdXJzZVN0YXJ0KG9mZnNldCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X2VuZFwiOiB0aGlzLm5leHRDb3Vyc2VFbmQob2Zmc2V0KSxcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaWQ6IFwiNWFjZTM3YzQtY2ZhOS00ZjIxLWI2MTAtZjA1NGJiYzYxMjkzXCIsXHJcbiAgICAgICAgbmV4dENvdXJzZVN0YXJ0KG9mZnNldCA9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke29mZnNldFdlZWsoZ2V0TmV4dERheURhdGUoJ3NhdHVyZGF5JyksIG9mZnNldCl9MDg6MDA6MDBaYFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmV4dENvdXJzZUVuZCAob2Zmc2V0ID0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7b2Zmc2V0V2VlayhnZXROZXh0RGF5RGF0ZSgnc2F0dXJkYXknKSwgb2Zmc2V0KX1UMDk6MzA6MDBaYFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFyZW50SWQ6IFwiMzcwMTliZjAtMjRkZi00YjU2LThjNmQtMjQyM2VhODNkMzBhXCJcclxuICAgIH0sXHJcbiAgICAvL1xyXG4gICAgXCJCYXNrZXRiYWxsIC0gRnJlaWVzIFNwaWVsIE1pdHR3b2NoXCI6IHtcclxuICAgICAgICBxdWVyeVN0cmluZyhvZmZzZXQgPSAwKXtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIFwicXVlcnlcIjogXCJcXG5tdXRhdGlvbiBBZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoJGlucHV0OiBBZGRTbG90UHJvZHVjdFRvQ2FydElucHV0ISkge1xcbiAgICBhZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoXFxuICAgICAgICBpbnB1dDogJGlucHV0XFxuICAgICkge1xcbiAgICAgICAgICAgIGlkXFxuICAgICAgICAgICAgcmVzZXJ2ZWRfdW50aWxcXG4gICAgICAgICAgICBzZWNvbmRzX3VudGlsX3Jlc2VydmF0aW9uX2VuZHNcXG4gICAgICAgICAgICBjcmVhdGVkX2F0XFxuICAgICAgICBwcm9kdWN0cyB7XFxuICAgICAgICAgICAgICAgICAgICBpZFxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICBfX3R5cGVuYW1lXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG59XCIsXHJcbiAgICAgICAgICAgICAgICBcInZhcmlhYmxlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgIFwiaW5wdXRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicGFyZW50X2lkXCI6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X3N0YXJ0XCI6IHRoaXMubmV4dENvdXJzZVN0YXJ0KG9mZnNldCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X2VuZFwiOiB0aGlzLm5leHRDb3Vyc2VFbmQob2Zmc2V0KSxcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaWQ6IFwiN2NiMWZiYjEtOWMwNy00OGFmLWE1MjUtYzdjZmQ1ZjU4M2VlXCIsXHJcbiAgICAgICAgbmV4dENvdXJzZVN0YXJ0KG9mZnNldCA9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke29mZnNldFdlZWsoZ2V0TmV4dERheURhdGUoJ3dlZG5lc2RheScpLCBvZmZzZXQpfVQyMDozMDowMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0Q291cnNlRW5kIChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCd3ZWRuZXNkYXknKSwgb2Zmc2V0KX1UMjI6MDA6MDBaYFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFyZW50SWQ6IFwiZDdjNzdlYmYtZmY0Mi00MGVjLWIyYjktNDExNjkyNGQ0MTcxXCJcclxuICAgIH0sXHJcbiAgICBcIkJhc2tldGJhbGwgLSBGcmVpZXMgU3BpZWwgRG9ubmVyc3RhZ1wiOiB7XHJcbiAgICAgICAgcXVlcnlTdHJpbmcob2Zmc2V0ID0gMCl7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBcInF1ZXJ5XCI6IFwiXFxubXV0YXRpb24gQWRkX3Nsb3RfcHJvZHVjdF90b19jYXJ0KCRpbnB1dDogQWRkU2xvdFByb2R1Y3RUb0NhcnRJbnB1dCEpIHtcXG4gICAgYWRkX3Nsb3RfcHJvZHVjdF90b19jYXJ0KFxcbiAgICAgICAgaW5wdXQ6ICRpbnB1dFxcbiAgICApIHtcXG4gICAgICAgICAgICBpZFxcbiAgICAgICAgICAgIHJlc2VydmVkX3VudGlsXFxuICAgICAgICAgICAgc2Vjb25kc191bnRpbF9yZXNlcnZhdGlvbl9lbmRzXFxuICAgICAgICAgICAgY3JlYXRlZF9hdFxcbiAgICAgICAgcHJvZHVjdHMge1xcbiAgICAgICAgICAgICAgICAgICAgaWRcXG4gICAgICAgICAgICAgICAgICAgIG5hbWVcXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgX190eXBlbmFtZVxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9XFxufVwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YXJpYWJsZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICBcImlucHV0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInBhcmVudF9pZFwiOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic2xvdF9zdGFydFwiOiB0aGlzLm5leHRDb3Vyc2VTdGFydChvZmZzZXQpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic2xvdF9lbmRcIjogdGhpcy5uZXh0Q291cnNlRW5kKG9mZnNldCksXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlkOiBcIjkyZjU5MzgyLWQ1NjctNDViNi1hOTlhLTYwMWM0OGZhNDQzZVwiLFxyXG4gICAgICAgIG5leHRDb3Vyc2VTdGFydChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCd0aHVyc2RheScpLCBvZmZzZXQpfVQyMDozMDowMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0Q291cnNlRW5kIChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCd0aHVyc2RheScpLCBvZmZzZXQpfVQyMjowMDowMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJlbnRJZDogXCJkN2M3N2ViZi1mZjQyLTQwZWMtYjJiOS00MTE2OTI0ZDQxNzFcIlxyXG4gICAgfSxcclxuICAgIC8vXHJcbiAgICBcIlZvbGxleWJhbGwgLSBGcmVpZXMgU3BpZWwgTW9udGFnXCI6IHtcclxuICAgICAgICBxdWVyeVN0cmluZyhvZmZzZXQgPSAwKXtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIFwicXVlcnlcIjogXCJcXG5tdXRhdGlvbiBBZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoJGlucHV0OiBBZGRTbG90UHJvZHVjdFRvQ2FydElucHV0ISkge1xcbiAgICBhZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoXFxuICAgICAgICBpbnB1dDogJGlucHV0XFxuICAgICkge1xcbiAgICAgICAgICAgIGlkXFxuICAgICAgICAgICAgcmVzZXJ2ZWRfdW50aWxcXG4gICAgICAgICAgICBzZWNvbmRzX3VudGlsX3Jlc2VydmF0aW9uX2VuZHNcXG4gICAgICAgICAgICBjcmVhdGVkX2F0XFxuICAgICAgICBwcm9kdWN0cyB7XFxuICAgICAgICAgICAgICAgICAgICBpZFxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICBfX3R5cGVuYW1lXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG59XCIsXHJcbiAgICAgICAgICAgICAgICBcInZhcmlhYmxlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgIFwiaW5wdXRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicGFyZW50X2lkXCI6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X3N0YXJ0XCI6IHRoaXMubmV4dENvdXJzZVN0YXJ0KG9mZnNldCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X2VuZFwiOiB0aGlzLm5leHRDb3Vyc2VFbmQob2Zmc2V0KSxcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaWQ6IFwiMGRhODcyOTQtN2MwMi00NGYyLWFkYzMtMTBlMjY5MGNlYTA2XCIsXHJcbiAgICAgICAgbmV4dENvdXJzZVN0YXJ0KG9mZnNldCA9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke29mZnNldFdlZWsoZ2V0TmV4dERheURhdGUoJ21vbmRheScpLCBvZmZzZXQpfVQyMDozMDowMC4wMDBaYFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmV4dENvdXJzZUVuZCAob2Zmc2V0ID0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7b2Zmc2V0V2VlayhnZXROZXh0RGF5RGF0ZSgnbW9uZGF5JyksIG9mZnNldCl9VDIyOjAwOjAwLjAwMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJlbnRJZDogXCI3N2U0NzQ4ZC0yYWU2LTQ2NTktOTQ0ZC04YmNhYzNjOGRlYWRcIlxyXG4gICAgfSxcclxuICAgIFwiVm9sbGV5YmFsbCAtIEZyZWllcyBTcGllbCBEb25uZXJzdGFnXCI6IHtcclxuICAgICAgICBxdWVyeVN0cmluZyhvZmZzZXQgPSAwKXtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIFwicXVlcnlcIjogXCJcXG5tdXRhdGlvbiBBZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoJGlucHV0OiBBZGRTbG90UHJvZHVjdFRvQ2FydElucHV0ISkge1xcbiAgICBhZGRfc2xvdF9wcm9kdWN0X3RvX2NhcnQoXFxuICAgICAgICBpbnB1dDogJGlucHV0XFxuICAgICkge1xcbiAgICAgICAgICAgIGlkXFxuICAgICAgICAgICAgcmVzZXJ2ZWRfdW50aWxcXG4gICAgICAgICAgICBzZWNvbmRzX3VudGlsX3Jlc2VydmF0aW9uX2VuZHNcXG4gICAgICAgICAgICBjcmVhdGVkX2F0XFxuICAgICAgICBwcm9kdWN0cyB7XFxuICAgICAgICAgICAgICAgICAgICBpZFxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICBfX3R5cGVuYW1lXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG59XCIsXHJcbiAgICAgICAgICAgICAgICBcInZhcmlhYmxlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgIFwiaW5wdXRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicGFyZW50X2lkXCI6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X3N0YXJ0XCI6IHRoaXMubmV4dENvdXJzZVN0YXJ0KG9mZnNldCksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzbG90X2VuZFwiOiB0aGlzLm5leHRDb3Vyc2VFbmQob2Zmc2V0KSxcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaWQ6IFwiYmU4MmM1NTQtYTQ5NS00Y2RjLThiNjctZjA3M2JmY2EwNWQwXCIsXHJcbiAgICAgICAgbmV4dENvdXJzZVN0YXJ0KG9mZnNldCA9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke29mZnNldFdlZWsoZ2V0TmV4dERheURhdGUoJ3RodXJzZGF5JyksIG9mZnNldCl9VDIwOjMwOjAwLjAwMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0Q291cnNlRW5kIChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCd0aHVyc2RheScpLCBvZmZzZXQpfVQyMjowMDowMC4wMDBaYFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFyZW50SWQ6IFwiNzdlNDc0OGQtMmFlNi00NjU5LTk0NGQtOGJjYWMzYzhkZWFkXCJcclxuICAgIH0sXHJcbiAgICBcIlZvbGxleWJhbGwgLSBGcmVpZXMgU3BpZWwgU2Ftc3RhZ1wiOiB7XHJcbiAgICAgICAgcXVlcnlTdHJpbmcob2Zmc2V0ID0gMCl7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBcInF1ZXJ5XCI6IFwiXFxubXV0YXRpb24gQWRkX3Nsb3RfcHJvZHVjdF90b19jYXJ0KCRpbnB1dDogQWRkU2xvdFByb2R1Y3RUb0NhcnRJbnB1dCEpIHtcXG4gICAgYWRkX3Nsb3RfcHJvZHVjdF90b19jYXJ0KFxcbiAgICAgICAgaW5wdXQ6ICRpbnB1dFxcbiAgICApIHtcXG4gICAgICAgICAgICBpZFxcbiAgICAgICAgICAgIHJlc2VydmVkX3VudGlsXFxuICAgICAgICAgICAgc2Vjb25kc191bnRpbF9yZXNlcnZhdGlvbl9lbmRzXFxuICAgICAgICAgICAgY3JlYXRlZF9hdFxcbiAgICAgICAgcHJvZHVjdHMge1xcbiAgICAgICAgICAgICAgICAgICAgaWRcXG4gICAgICAgICAgICAgICAgICAgIG5hbWVcXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgX190eXBlbmFtZVxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9XFxufVwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YXJpYWJsZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICBcImlucHV0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInBhcmVudF9pZFwiOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic2xvdF9zdGFydFwiOiB0aGlzLm5leHRDb3Vyc2VTdGFydChvZmZzZXQpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic2xvdF9lbmRcIjogdGhpcy5uZXh0Q291cnNlRW5kKG9mZnNldCksXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlkOiBcImFkOTUwZjEwLTdhMTgtNGU4YS04ZTI1LThiZjljMTBiZDYwN1wiLFxyXG4gICAgICAgIG5leHRDb3Vyc2VTdGFydChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCdzYXR1cmRheScpLCBvZmZzZXQpfVQwOTozMDowMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0Q291cnNlRW5kIChvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtvZmZzZXRXZWVrKGdldE5leHREYXlEYXRlKCdzYXR1cmRheScpLCBvZmZzZXQpfVQxMTozMDowMFpgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJlbnRJZDogXCI3N2U0NzQ4ZC0yYWU2LTQ2NTktOTQ0ZC04YmNhYzNjOGRlYWRcIlxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vIG5pY2h0IHNsb3QgYmFzaWVydFxyXG4gICAgXCJPdXRkb29yLUZpdG5lc3NhbmxhZ2UgLSBGcmVpZXMgVHJhaW5pbmdcIjoge1xyXG4gICAgICAgIHF1ZXJ5U3RyaW5nKCl7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBcInF1ZXJ5XCI6IFwiXFxubXV0YXRpb24gQWRkX3Byb2R1Y3RfdG9fY2FydCgkcHJvZHVjdE5hbWU6IFN0cmluZyEpIHtcXG4gICAgYWRkX3Byb2R1Y3RfdG9fY2FydChcXG4gICAgICAgIGlucHV0OiB7IHByb2R1Y3RfbmFtZTogJHByb2R1Y3ROYW1lIH1cXG4gICAgKSB7XFxuICAgICAgICBpZFxcbiAgICAgICAgcmVzZXJ2ZWRfdW50aWxcXG4gICAgICAgIHNlY29uZHNfdW50aWxfcmVzZXJ2YXRpb25fZW5kc1xcbiAgICAgICAgY3JlYXRlZF9hdFxcbiAgICAgICAgcHJvZHVjdHMge1xcbiAgICAgICAgICAgIGlkXFxuICAgICAgICAgICAgbmFtZVxcbiAgICAgICAgICAgIHJlc291cmNlIHtcXG4gICAgICAgICAgICAgIF9fdHlwZW5hbWVcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG59XCIsXHJcbiAgICAgICAgICAgICAgICBcInZhcmlhYmxlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcInByb2R1Y3ROYW1lXCI6IHRoaXMuaWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlkOiBcImNvdXJzZXMuY291cnNlLjAyMjg5ODIwLThjZTItNDk4MS05YmI1LWNmZmE0ZDhkMjljNlwiXHJcbiAgICB9LFxyXG4gICAgXCJHb2xmIC0gRnJlaWVzIFNwaWVsXCI6IHtcclxuICAgICAgICBxdWVyeVN0cmluZygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIFwicXVlcnlcIjogXCJcXG5tdXRhdGlvbiBBZGRfcHJvZHVjdF90b19jYXJ0KCRwcm9kdWN0TmFtZTogU3RyaW5nISkge1xcbiAgICBhZGRfcHJvZHVjdF90b19jYXJ0KFxcbiAgICAgICAgaW5wdXQ6IHsgcHJvZHVjdF9uYW1lOiAkcHJvZHVjdE5hbWUgfVxcbiAgICApIHtcXG4gICAgICAgIGlkXFxuICAgICAgICByZXNlcnZlZF91bnRpbFxcbiAgICAgICAgc2Vjb25kc191bnRpbF9yZXNlcnZhdGlvbl9lbmRzXFxuICAgICAgICBjcmVhdGVkX2F0XFxuICAgICAgICBwcm9kdWN0cyB7XFxuICAgICAgICAgICAgaWRcXG4gICAgICAgICAgICBuYW1lXFxuICAgICAgICAgICAgcmVzb3VyY2Uge1xcbiAgICAgICAgICAgICAgX190eXBlbmFtZVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVxcbn1cIixcclxuICAgICAgICAgICAgICAgIFwidmFyaWFibGVzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInByb2R1Y3ROYW1lXCI6IHRoaXMuaWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlkOiBcImNvdXJzZXMuY291cnNlLmJmOTMyNTNhLWZiYTAtNGE4ZS1iMmUwLTczOWUxZjE1MTg3Y1wiXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGV4cG9ydCBjb25zdCBjb3Vyc2VJZHMgPSBPYmplY3QuZW50cmllcyhjb3Vyc2VzKS5tYXAoKFtrZXksIHZhbF0pID0+ICh7W3ZhbC5pZF06IGtleX0pKS5yZWR1Y2UoKGEsYikgPT4gKHsuLi5hLCAuLi5ifSksIHt9KSBcclxuIiwiaW1wb3J0IHsgY291cnNlcyB9IGZyb20gXCIuL2NvdXJzZXMuanNcIlxyXG5pbXBvcnQgeyBnZW5lcmF0ZUNvb2tpZVN0cmluZywgbG9hZEpzb25GaWxlIH0gZnJvbSBcIi4vaGVscGVyLmpzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBaSFNDbGllbnQge1xyXG5cclxuICAgIHN0YXRpYyBmcm9tQ29va2llRmlsZShmaWxlUGF0aCl7XHJcbiAgICAgICAgY29uc3QgY2xpZW50ID0gbmV3IFpIU0NsaWVudCgpXHJcbiAgICAgICAgY29uc3QgZmlsZSA9IGxvYWRKc29uRmlsZShmaWxlUGF0aClcclxuICAgICAgICBjbGllbnQuY29va2llT2JqZWN0ID0gZmlsZVxyXG4gICAgICAgIGNsaWVudC5jb29raWVTdHJpbmcgPSBnZW5lcmF0ZUNvb2tpZVN0cmluZyhmaWxlLmNvb2tpZSlcclxuICAgICAgICByZXR1cm4gY2xpZW50XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21Db29raWVPYmplY3QoY29va2llT2JqZWN0KXtcclxuICAgICAgICBjb25zdCBjbGllbnQgPSBuZXcgWkhTQ2xpZW50KClcclxuICAgICAgICBjbGllbnQuY29va2llT2JqZWN0ID0gY29va2llT2JqZWN0XHJcbiAgICAgICAgY2xpZW50LmNvb2tpZVN0cmluZyA9IGdlbmVyYXRlQ29va2llU3RyaW5nKGNvb2tpZU9iamVjdC5jb29raWUpXHJcbiAgICAgICAgcmV0dXJuIGNsaWVudFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmcm9tQ29va2llU3RyaW5nKGNvb2tpZVN0cmluZyl7XHJcbiAgICAgICAgY29uc3QgY2xpZW50ID0gbmV3IFpIU0NsaWVudCgpXHJcbiAgICAgICAgY2xpZW50LmNvb2tpZVN0cmluZyA9IGNvb2tpZVN0cmluZ1xyXG4gICAgICAgIHJldHVybiBjbGllbnRcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNvb2tpZU9iamVjdCA9IG51bGxcclxuICAgICAgICB0aGlzLmNvb2tpZVN0cmluZyA9IFwiXCJcclxuICAgICAgICB0aGlzLmNvdXJzZXMgPSBjb3Vyc2VzXHJcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJ2h0dHBzOi8va3Vyc2UuemhzLW11ZW5jaGVuLmRlJ1xyXG4gICAgICAgIHRoaXMuYXBpRW5kcG9pbnQgPSAnL2FwaS9xdWVyeSdcclxuXHJcbiAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVycyA9IHtcclxuICAgICAgICAgICAgXCJhY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLypcIixcclxuICAgICAgICAgICAgXCJhY2NlcHQtbGFuZ3VhZ2VcIjogXCJkZS1ERSxkZTtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuN1wiLFxyXG4gICAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgXCJwcmlvcml0eVwiOiBcInU9MSwgaVwiLFxyXG4gICAgICAgICAgICBcInNlYy1jaC11YVwiOiBcIlxcXCJDaHJvbWl1bVxcXCI7dj1cXFwiMTQyXFxcIiwgXFxcIkdvb2dsZSBDaHJvbWVcXFwiO3Y9XFxcIjE0MlxcXCIsIFxcXCJOb3RfQSBCcmFuZFxcXCI7dj1cXFwiOTlcXFwiXCIsXHJcbiAgICAgICAgICAgIFwic2VjLWNoLXVhLW1vYmlsZVwiOiBcIj8wXCIsXHJcbiAgICAgICAgICAgIFwic2VjLWNoLXVhLXBsYXRmb3JtXCI6IFwiXFxcIldpbmRvd3NcXFwiXCIsXHJcbiAgICAgICAgICAgIFwic2VjLWZldGNoLWRlc3RcIjogXCJlbXB0eVwiLFxyXG4gICAgICAgICAgICBcInNlYy1mZXRjaC1tb2RlXCI6IFwiY29yc1wiLFxyXG4gICAgICAgICAgICBcInNlYy1mZXRjaC1zaXRlXCI6IFwic2FtZS1vcmlnaW5cIixcclxuICAgICAgICAgICAgXCJ4LXVuaW5vdy1sYW5ndWFnZVwiOiBcImRlX0RFXCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGw7xndCBkZW4gS3VycyBpbiBkZW4gV2FyZW5rb3JiLiBCZWkgd8O2Y2hlbnRsaWNoZW4gS3Vyc2VuIHdpcmQgenVtIG7DpGNoc3Rtw7ZnbGljaGVuIFdvY2hlbnRhZyBnZWJ1Y2h0LiBGw7xyIHp1a8O8bmZ0aWdlIFdvY2hlbiB3aXJkIGVpbiBvZmZzZXQgZ2VzZXR6dFxyXG4gICAgIFxyXG4gICAgKiBAcGFyYW0ge2tleW9mIHR5cGVvZiBjb3Vyc2VzfSBjb3Vyc2VOYW1lXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IEdpYnQgZGFzIG9mZnNldCBmw7xyIGRpZSBqZXdlaWxpZ2UgV29jaGUgYW4uIFouQiBvZmZzZXQ9MiBiZXNjaHJlaWJ0IGRlbiB6dWvDvG5mdGlnZW4gQnVjaHVuZ3N0YWcgcGx1cyAxNCBUYWdlLiBEZWZhdWx0IDBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYm9vayhjb3Vyc2VOYW1lLCBvZmZzZXQgPSAwKXtcclxuICAgICAgICBjb25zdCBjb3Vyc2UgPSB0aGlzLmNvdXJzZXNbY291cnNlTmFtZV0gfHwgdGhpcy5maW5kQ291cnNlTmFtZUJ5SWQoY291cnNlTmFtZSlcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuZGVmYXVsdEhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAnY29va2llJzogdGhpcy5jb29raWVTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAnb3JpZ2luJzogdGhpcy5iYXNlVXJsLFxyXG4gICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzE0Mi4wLjAuMCBTYWZhcmkvNTM3LjM2J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBjb3Vyc2UucXVlcnlTdHJpbmcob2Zmc2V0KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfSR7dGhpcy5hcGlFbmRwb2ludH1gLCByZXF1ZXN0T3B0aW9ucylcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LnN0YXR1cylcclxuXHJcbiAgICAgICAgaWYoIXJlc3VsdC5vayl7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIixcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXN1bHQsXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZUJvZHk6IG51bGwsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXN1bHQuanNvbigpXHJcbiAgICAgICAgY29uc29sZS5sb2coYm9keSlcclxuICAgICAgICBpZighYm9keS5kYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwibm90X2Jvb2tlZFwiLFxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3VsdCxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlQm9keTogYm9keVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGF0dXM6IFwiYm9va2VkXCIsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXN1bHQsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlQm9keTogYm9keVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBCb29raW5nU2xvdFxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXJ0IC0gSVNPIHRpbWVzdGFtcCB3aGVuIHRoZSBzbG90IGJlZ2lucy5cclxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBlbmQgLSBJU08gdGltZXN0YW1wIHdoZW4gdGhlIHNsb3QgZW5kcy5cclxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBib29raW5nX3BlcmlvZF9zdGFydCAtIElTTyB0aW1lc3RhbXAgd2hlbiBib29raW5nIGJlY29tZXMgYXZhaWxhYmxlLlxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGJvb2tpbmdfcGVyaW9kX2VuZCAtIElTTyB0aW1lc3RhbXAgd2hlbiBib29raW5nIGNsb3Nlcy5cclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhdmFpbGFiaWxpdHkgLSBOdW1iZXIgb2YgZnJlZSBzcG90cyByZW1haW5pbmcuXHJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYWxyZWFkeV9ib29rZWQgLSBXaGV0aGVyIHRoZSB1c2VyIGhhcyBhbHJlYWR5IGJvb2tlZCB0aGlzIHNsb3QgKDAgb3IgMSkuXHJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYWxyZWFkeV9pbl9jYXJ0IC0gV2hldGhlciB0aGUgc2xvdCBpcyBhbHJlYWR5IGluIHRoZSB1c2VyJ3MgY2FydCAoMCBvciAxKS5cclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbHJlYWR5X29uX3dhaXRpbmdfbGlzdCAtIFdoZXRoZXIgdGhlIHVzZXIgaXMgb24gdGhlIHdhaXRpbmcgbGlzdCAoMCBvciAxKS5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gQm9va2luZ1Nsb3RzRGF0YVxyXG4gICAgICogQHByb3BlcnR5IHtCb29raW5nU2xvdFtdfSBib29raW5nX3Nsb3RzIC0gTGlzdCBvZiBib29raW5nIHNsb3RzLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBCb29raW5nU2xvdHNSZXNwb25zZVxyXG4gICAgICogQHByb3BlcnR5IHtCb29raW5nU2xvdHNEYXRhfSBkYXRhIC0gUmVzcG9uc2Ugd3JhcHBlci5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRnJhZ3QgZWluZW4gS3VycyBTbG90IGFiLCBvYiBkaWVzZXIgWmVpdHJhdW0gdmFsaWRlIGlzdCB1bmQgbm9jaCBQbMOkdHplIGZyZWkgc2luZC4gRGVyIEF1ZnJ1ZiBmdW5rdGlvbmllcnQgbnVyIGJlaSBiZXN0aW1tdGVuIEt1cnNlbiwgd2VsY2hlIGVpbiBTbG90IEZvcm1hdCBoYWJlbiB1bmQgd29jaGVuc3BlemlmaXNjaCBzaW5kXHJcbiAgICAgKiBAcGFyYW0ge2tleW9mIHR5cGVvZiBjb3Vyc2VzfSBjb3Vyc2VOYW1lXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IEdpYnQgZGFzIG9mZnNldCBmw7xyIGRpZSBqZXdlaWxpZ2UgV29jaGUgYW4uIFouQiBvZmZzZXQ9MiBiZXNjaHJlaWJ0IGRlbiB6dWvDvG5mdGlnZW4gQnVjaHVuZ3N0YWcgcGx1cyAxNCBUYWdlLiBEZWZhdWx0IDBcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEJvb2tpbmdTbG90c1Jlc3BvbnNlPn0gXHJcbiAgICAqL1xyXG4gICAgYXN5bmMgZ2V0Q291cnNlU2xvdERldGFpbHMoY291cnNlTmFtZSwgb2Zmc2V0KXtcclxuICAgICAgICBjb25zdCBjb3Vyc2UgPSB0aGlzLmNvdXJzZXNbY291cnNlTmFtZV0gfHwgdGhpcy5maW5kQ291cnNlTmFtZUJ5SWQoY291cnNlTmFtZSlcclxuXHJcbiAgICAgICAgY29uc3QgW3N0YXJ0RGF0ZV0gPSBjb3Vyc2UubmV4dENvdXJzZVN0YXJ0KG9mZnNldCkuc3BsaXQoJ1QnKVxyXG4gICAgICAgIGNvbnN0IFtlbmREYXRlXSA9IGNvdXJzZS5uZXh0Q291cnNlRW5kKG9mZnNldCkuc3BsaXQoJ1QnKVxyXG5cclxuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5kZWZhdWx0SGVhZGVycyxcclxuICAgICAgICAgICAgICAgICdjb29raWUnOiB0aGlzLmNvb2tpZVN0cmluZyxcclxuICAgICAgICAgICAgICAgICdvcmlnaW4nOiB0aGlzLmJhc2VVcmwsXHJcbiAgICAgICAgICAgICAgICAndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTQyLjAuMC4wIFNhZmFyaS81MzcuMzYnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIFwicXVlcnlcIjogXCJcXG5xdWVyeSBMaXN0X3Byb2R1Y3Rfc2xvdHMoJHByb2R1Y3RJRDogVVVJRCEsICRpbnB1dDogQm9va2luZ1Nsb3RzSW5wdXQhKSB7XFxuICBib29raW5nX3Nsb3RzKHByb2R1Y3RfaWQ6ICRwcm9kdWN0SUQsIGlucHV0OiAkaW5wdXQpIHtcXG4gICAgc3RhcnRcXG4gICAgZW5kXFxuICAgIGJvb2tpbmdfcGVyaW9kX3N0YXJ0XFxuICAgIGJvb2tpbmdfcGVyaW9kX2VuZFxcbiAgICBhdmFpbGFiaWxpdHlcXG4gICAgYWxyZWFkeV9ib29rZWRcXG4gICAgYWxyZWFkeV9pbl9jYXJ0XFxuICAgIGFscmVhZHlfb25fd2FpdGluZ19saXN0XFxuIH1cXG59XCIsXHJcbiAgICAgICAgICAgICAgICBcInZhcmlhYmxlc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0SURcIjogY291cnNlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaW5wdXRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBcInN0YXJ0XCI6IGNvdXJzZS5uZXh0Q291cnNlU3RhcnQob2Zmc2V0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCJlbmRcIjogY291cnNlLm5leHRDb3Vyc2VFbmQob2Zmc2V0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0YXJ0XCI6IGAke3N0YXJ0RGF0ZX1UMDA6MDA6MDBaYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmRcIjogYCR7ZW5kRGF0ZX1UMjM6NTk6NTlaYFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0ke3RoaXMuYXBpRW5kcG9pbnR9YCwgcmVxdWVzdE9wdGlvbnMpXHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXN1bHQuanNvbigpXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgLy8gYXN5bmMgY29tcGxldGVDaGVja291dCgpe1xyXG4gICAgLy8gICAgIC8qKlxyXG4gICAgLy8gICAgICAqIHBpIGludGVudCBmZXRjaGVuXHJcbiAgICAvLyAgICAgICogR0VUIHJlcXVlc3QgbWl0IHBpIGludGVudCBmw7xyIHVzZXJuYW1lIHVuZCBkYXRlblxyXG4gICAgLy8gICAgICAqIFxyXG4gICAgLy8gICAgICAqL1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGZpbmRDb3Vyc2VOYW1lQnlJZChpZCl7XHJcbiAgICAgICAgZm9yKGNvbnN0IFtrZXksdmFsXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmNvdXJzZXMpKXtcclxuICAgICAgICAgICAgaWYodmFsLmlkID09IGlkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleVxyXG4gICAgICAgIH1cclxuICAgIH0gICBcclxuXHJcblxyXG5cclxufVxyXG5cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmYgPSB7fTtcbi8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbi8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5lID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uZikucmVkdWNlKChwcm9taXNlcywga2V5KSA9PiB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5mW2tleV0oY2h1bmtJZCwgcHJvbWlzZXMpO1xuXHRcdHJldHVybiBwcm9taXNlcztcblx0fSwgW10pKTtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuYnVuZGxlLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ4NTQ6IDBcbn07XG5cbl9fd2VicGFja19yZXF1aXJlX18uZi5qID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSA/IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA6IHVuZGVmaW5lZDtcblx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cblx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG5cdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYodHJ1ZSkgeyAvLyBhbGwgY2h1bmtzIGhhdmUgSlNcblx0XHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiAoaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF0pKTtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG5cdFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuXHRcdFx0XHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCk7XG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGVycm9yIGJlZm9yZSBzdGFjayB1bndvdW5kIHRvIGdldCB1c2VmdWwgc3RhY2t0cmFjZSBsYXRlclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuXHRcdFx0XHRcdHZhciBsb2FkaW5nRW5kZWQgPSAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpKSB7XG5cdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm5hbWUgPSAnQ2h1bmtMb2FkRXJyb3InO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG5cdFx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhWzFdKGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkLCBcImNodW5rLVwiICsgY2h1bmtJZCwgY2h1bmtJZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG59O1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0fVxuXG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5remhzX2Jvb2tpbmdfZXh0ZW5zaW9uXCJdID0gc2VsZltcIndlYnBhY2tDaHVua3poc19ib29raW5nX2V4dGVuc2lvblwiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSB1c2VkICdtb2R1bGUnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MzYpO1xuIl0sIm5hbWVzIjpbImhhc1N5bWJvbCIsIndlYnBhY2tRdWV1ZXMiLCJ3ZWJwYWNrRXhwb3J0cyIsIndlYnBhY2tFcnJvciIsInJlc29sdmVRdWV1ZSIsImxlYWZQcm90b3R5cGVzIiwiZ2V0UHJvdG8iLCJpblByb2dyZXNzIiwiZGF0YVdlYnBhY2tQcmVmaXgiLCJpbmplY3RDb3Vyc2VDYXJkU3R5bGVzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImlkIiwidGV4dENvbnRlbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJpbmplY3RFeHRlbnNpb25CYW5uZXIiLCJiYW5uZXIiLCJjbGFzc05hbWUiLCJsYWJlbCIsImJvZHkiLCJwcmVwZW5kIiwiZnMiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZ2VuZXJhdGVDb29raWVTdHJpbmciLCJqc29uT2JqZWN0IiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsImtleSIsInZhbCIsImpvaW4iLCJsb2FkSnNvbkZpbGUiLCJwYXRoIiwiZmlsZSIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsImdldE5leHREYXlEYXRlIiwiZGF5IiwidG9kYXkiLCJEYXRlIiwidGFyZ2V0RGF5IiwiRXJyb3IiLCJpbmRleE9mIiwidG9Mb3dlckNhc2UiLCJkYXlzVW50aWwiLCJnZXREYXkiLCJuZXh0RGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwiZ2V0RnVsbFllYXIiLCJTdHJpbmciLCJnZXRNb250aCIsInBhZFN0YXJ0Iiwib2Zmc2V0V2VlayIsImRhdGVTdHJpbmciLCJvZmZzZXQiLCJkYXRlIiwibG9nIiwiY29va2llIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY2xpZW50IiwiZnJvbUNvb2tpZVN0cmluZyIsInBhcmVudElkcyIsImNvdXJzZXMiLCJwYXJlbnRJZCIsInJlZHVjZSIsImEiLCJiIiwicGFyZW50SGl0Iiwia2V5cyIsImZpbmQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJpbmNsdWRlcyIsImdsb2JhbE9mZnNldCIsImF2YWlsYWJsZUNvdXJzZXMiLCJjb3Vyc2VzQnlQYXJlbnRJZCIsInJlbmRlck5leHRXZWVrQnV0dG9uIiwiaXRlcmF0ZUNvdXJzZXMiLCJhc3luYyIsIk1hdGgiLCJtYXgiLCJmbG9vciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJsZW5ndGgiLCJjb3Vyc2UiLCJ2YWxpZGF0ZUNvdXJzZSIsIm5leHRDb3Vyc2UiLCJuZXh0Q291cnNlU3RhcnQiLCJyZXMiLCJnZXRDb3Vyc2VTbG90RGV0YWlscyIsInNsb3RBdmFpbGFibGUiLCJkYXRhIiwiYm9va2luZ19zbG90cyIsInJlbmRlckNvdXJzZUNhcmQiLCJvbkNsaWNrIiwiYm9vayIsInB1c2giLCJyZW1vdmUiLCJ3cmFwcGVyIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFwcGVuZFVuZGVyUHJvZHVjdEluZm8iLCJjb250YWluZXIiLCJoZWFkZXIiLCJ0aXRsZVdyYXBwZXIiLCJ0aXRsZSIsInN1YiIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInRvTG9jYWxlVGltZVN0cmluZyIsInNsb3RzQmFkZ2UiLCJzbG90cyIsImF2YWlsYWJpbGl0eSIsImNsYXNzTGlzdCIsImFkZCIsImZvb3RlciIsInNsb3RJbmZvIiwiYWxyZWFkeUJvb2tlZCIsImFscmVhZHlfYm9va2VkIiwiYWxyZWFkeUluQ2FydCIsImFscmVhZHlfaW5fY2FydCIsImlubmVySFRNTCIsIm5vdEF2YWlsIiwiZWwiLCJ0YXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50Tm9kZSIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTdHJpbmciLCJzdHJpbmdpZnkiLCJ0aGlzIiwibmV4dENvdXJzZUVuZCIsIlpIU0NsaWVudCIsImZyb21Db29raWVGaWxlIiwiZmlsZVBhdGgiLCJjb29raWVPYmplY3QiLCJjb29raWVTdHJpbmciLCJmcm9tQ29va2llT2JqZWN0IiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwiYXBpRW5kcG9pbnQiLCJkZWZhdWx0SGVhZGVycyIsImNvdXJzZU5hbWUiLCJmaW5kQ291cnNlTmFtZUJ5SWQiLCJyZXF1ZXN0T3B0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJyZXN1bHQiLCJmZXRjaCIsInN0YXR1cyIsIm9rIiwicmVzcG9uc2UiLCJyZXNwb25zZUJvZHkiLCJqc29uIiwic3RhcnREYXRlIiwic3BsaXQiLCJlbmREYXRlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwiU3ltYm9sIiwicXVldWUiLCJkIiwiZm9yRWFjaCIsImZuIiwiciIsImhhc0F3YWl0IiwiY3VycmVudERlcHMiLCJvdXRlclJlc29sdmUiLCJyZWplY3QiLCJkZXBRdWV1ZXMiLCJTZXQiLCJwcm9taXNlIiwicmVqIiwieCIsImRlcHMiLCJkZXAiLCJ0aGVuIiwib2JqIiwiZSIsInJldCIsIndyYXBEZXBzIiwiZ2V0UmVzdWx0IiwiZm5RdWV1ZSIsInEiLCJoYXMiLCJlcnIiLCJnZXRQcm90b3R5cGVPZiIsInQiLCJ2YWx1ZSIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJkZWYiLCJjdXJyZW50IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZiIsImNodW5rSWQiLCJhbGwiLCJwcm9taXNlcyIsInUiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImwiLCJ1cmwiLCJkb25lIiwic2NyaXB0IiwibmVlZEF0dGFjaCIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImkiLCJzIiwiZ2V0QXR0cmlidXRlIiwiY2hhcnNldCIsIm5jIiwic2V0QXR0cmlidXRlIiwic3JjIiwib25TY3JpcHRDb21wbGV0ZSIsInByZXYiLCJldmVudCIsIm9uZXJyb3IiLCJvbmxvYWQiLCJjbGVhclRpbWVvdXQiLCJ0aW1lb3V0IiwiZG9uZUZucyIsInJlbW92ZUNoaWxkIiwiYmluZCIsInR5cGUiLCJ0b1N0cmluZ1RhZyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJjdXJyZW50U2NyaXB0IiwidGFnTmFtZSIsInRvVXBwZXJDYXNlIiwidGVzdCIsInJlcGxhY2UiLCJwIiwiaW5zdGFsbGVkQ2h1bmtzIiwiaiIsImluc3RhbGxlZENodW5rRGF0YSIsImVycm9yVHlwZSIsInJlYWxTcmMiLCJtZXNzYWdlIiwibmFtZSIsInJlcXVlc3QiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwic2VsZiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9